{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\";\nimport _imports_0 from './../assets/instagram.png';\nconst _hoisted_1 = {\n  class: \"\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"fixed z-[100] w-full drop-shadow-md h-12 bg-white font-semibold flex justify-around items-center\"\n};\nconst _hoisted_3 = {\n  class: \"flex space-x-5\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\",\n  class: \"w-8 h-8\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"search\",\n  name: \"q\",\n  placeholder: \"🔍 Search User\",\n  class: \"bg-gray-100 border border-gray-200 outline outline-none rounded-md font-normal pl-2\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = {\n  class: \"flex items-center space-x-3\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-house text-lg\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-regular fa-heart\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = [\"src\"];\nconst _hoisted_10 = {\n  class: \"hidden hover:flex flex-col group-hover:flex\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", null, \"My Page\", -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_13 = {\n  key: 1,\n  class: \"fixed z-[100] w-full drop-shadow-md h-12 bg-white font-semibold flex justify-around items-center\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-pink-500\"\n}, \"Let sign in ^^\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = {\n  class: \"\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [$setup.currentUser ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: \"/homepage\",\n    class: \"text-pink-300 hover:text-white\"\n  }, {\n    default: _withCtx(() => [_hoisted_4]),\n    _: 1\n    /* STABLE */\n\n  }), _hoisted_5]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _hoisted_8, _createElementVNode(\"div\", null, [_createElementVNode(\"img\", {\n    src: require('./../assets/' + $setup.currentUser.avatar),\n    alt: \"\",\n    class: \"w-6 h-6 rounded-full group\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_9), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _hoisted_12, _createElementVNode(\"div\", {\n    id: \"signOutBtn\",\n    onClick: _cache[0] || (_cache[0] = $event => $setup.signOut()),\n    class: \"text-pink-300 hover:text-gray-50 hover:bg-pink-300 cursor-pointer\"\n  }, \" Sign Out \")])])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"div\", _hoisted_15, [_createVNode(_component_router_link, {\n    to: \"/auth/signup\",\n    class: \"text-pink-500 hover:text-white\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Sign Up\")]),\n    _: 1\n    /* STABLE */\n\n  }), _createVNode(_component_router_link, {\n    to: \"/auth/signin\",\n    class: \"text-pink-500 hover:text-white\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Sign In\")]),\n    _: 1\n    /* STABLE */\n\n  })])]))]);\n}","map":{"version":3,"mappings":";OAKiBA,gBAA+B;;EAJvCC,KAAK,EAAC;;;;EACeA,KAAK,EAAC;;;EACvBA,KAAK,EAAC;;;gCAEPC,oBAA6D,KAA7D,EAA6D;EAAxDC,GAA+B,EAA/BH,UAAwD;EAAxBI,GAAG,EAAC,EAAoB;EAAjBH,KAAK,EAAC;AAAW,CAA7D;;AAAA;;gCAEFC,oBACmG,OADnG,EACmG;EAD5FG,IAAI,EAAC,QACuF;EAD9EC,IAAI,EAAC,GACyE;EADrEC,WAAW,EAAC,gBACyD;EAA7FN,KAAK,EAAC;AAAuF,CADnG;;AAAA;;;EAGGA,KAAK,EAAC;;;gCACTC,oBAAyC,GAAzC,EAAyC;EAAtCD,KAAK,EAAC;AAAgC,CAAzC,EAAoC,IAApC,EAAoC;AAAA;AAApC;;gCACAC,oBAAmC,GAAnC,EAAmC;EAAhCD,KAAK,EAAC;AAA0B,CAAnC,EAA8B,IAA9B,EAA8B;AAAA;AAA9B;;;;EAGSA,KAAK,EAAC;;;iCACTC,oBAAkB,KAAlB,EAAkB,IAAlB,EAAK,SAAL,EAAY;AAAA;AAAZ;;iCAAkBA,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI;AAAA;AAAJ;;;;EAWhBD,KAAK,EAAC;;;iCAChBC,oBAEM,KAFN,EAEM;EAFDD,KAAK,EAAC;AAEL,CAFN,EAAa,cACXC,oBAA4C,GAA5C,EAA4C;EAAzCD,KAAK,EAAC;AAAmC,CAA5C,EAA0B,gBAA1B,CADW,CAAb;;AAAA;;;EAGKA,KAAK,EAAC;;;;;uBA9BfO,oBAqCM,KArCN,cAqCM,CApCOC,oCAAXD,oBAuBM,KAvBN,cAuBM,CAtBJN,oBAMM,KANN,cAMM,CALJQ,aAEcC,sBAFd,EAEc;IAFDC,EAAE,EAAC,WAEF;IAFcX,KAAK,EAAC;EAEpB,CAFd;sBACE,MAA6D,CAA7DY,UAA6D;;;;GAD/D,CAKI,EAFJC,UAEI,CANN,CAsBI,EAfJZ,oBAaM,KAbN,cAaM,CAZJa,UAYI,EAXJC,UAWI,EAVJd,oBASM,KATN,EASM,IATN,EASM,CARJA,oBAAoG,KAApG,EAAoG;IAA9FC,GAAG,EAAEc,OAAO,kBAAkBR,mBAAYS,MAA9B,CAAkF;IAA3Cd,GAAG,EAAC,EAAuC;IAApCH,KAAK,EAAC;EAA8B,CAApG;;EAAA,aAQI,EAPFC,oBAMM,KANN,eAMM,CALJiB,WAKI,EALcC,WAKd,EAJJlB,oBAGM,KAHN,EAGM;IAHDmB,EAAE,EAAC,YAGF;IAHgBC,OAAK,sCAAEb,gBAAF,CAGrB;IAFER,KAAK,EAAC;EAER,CAHN,EACmF,YADnF,CAII,CANN,CAOE,CATN,CAUI,CAbN,CAeI,CAvBN,oBAyBAO,oBAQM,KARN,eAQM,CAPJe,WAOI,EAJJrB,oBAGM,KAHN,eAGM,CAFJQ,aAA4FC,sBAA5F,EAA4F;IAA/EC,EAAE,EAAC,cAA4E;IAA7DX,KAAK,EAAC;EAAuD,CAA5F;sBAAuE,MAAO,kBAAP,UAAO;;;;GAA9E,CAEI,EADJS,aAA4FC,sBAA5F,EAA4F;IAA/EC,EAAE,EAAC,cAA4E;IAA7DX,KAAK,EAAC;EAAuD,CAA5F;sBAAuE,MAAO,kBAAP,UAAO;;;;GAA9E,CACI,CAHN,CAII,CARN,EAWI,CArCN","names":["_imports_0","class","_createElementVNode","src","alt","type","name","placeholder","_createElementBlock","$setup","_createVNode","_component_router_link","to","_hoisted_4","_hoisted_5","_hoisted_7","_hoisted_8","require","avatar","_hoisted_11","_hoisted_12","id","onClick","_hoisted_14"],"sourceRoot":"","sources":["E:\\LapTrinh\\NestJS\\social-media-clone\\frontend\\src\\components\\NavBar.vue"],"sourcesContent":["<template>\r\n    <nav class=\"\">\r\n      <div v-if=\"currentUser\" class=\" fixed z-[100] w-full drop-shadow-md h-12 bg-white font-semibold flex justify-around items-center\">\r\n        <div class=\"flex space-x-5\">\r\n          <router-link to=\"/homepage\" class=\" text-pink-300 hover:text-white\">\r\n            <img src=\"./../assets/instagram.png\" alt=\"\" class=\" w-8 h-8\">\r\n          </router-link>\r\n          <input type=\"search\" name=\"q\" placeholder=\"&#128269; Search User\"  \r\n                class=\" bg-gray-100 border border-gray-200 outline outline-none rounded-md font-normal pl-2\">\r\n        </div>\r\n        <div class=\" flex items-center space-x-3\">\r\n          <i class=\"fa-solid fa-house text-lg\"></i>\r\n          <i class=\"fa-regular fa-heart\"></i>\r\n          <div>\r\n            <img :src=\"require('./../assets/' + currentUser.avatar)\" alt=\"\" class=\" w-6 h-6 rounded-full group\">\r\n              <div class=\" hidden hover:flex flex-col group-hover:flex\">\r\n                <div>My Page</div><hr>\r\n                <div id=\"signOutBtn\" @click=\"signOut()\" \r\n                        class=\" text-pink-300 hover:text-gray-50 hover:bg-pink-300 cursor-pointer\">\r\n                  Sign Out\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </div>\r\n        \r\n      </div>\r\n\r\n      <div v-else class=\" fixed z-[100] w-full drop-shadow-md h-12 bg-white font-semibold flex justify-around items-center\">\r\n        <div class=\"\">\r\n          <p class=\" text-pink-500\">Let sign in ^^</p>\r\n        </div>\r\n        <div class=\"\">\r\n          <router-link to=\"/auth/signup\" class=\" text-pink-500 hover:text-white\">Sign Up</router-link>\r\n          <router-link to=\"/auth/signin\" class=\" text-pink-500 hover:text-white\">Sign In</router-link>\r\n        </div>\r\n      </div>\r\n\r\n        \r\n    </nav>\r\n    \r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from \"vue-router\"\r\nimport { computed, onMounted, ref } from 'vue';\r\nimport axios from 'axios';\r\n\r\nconst router = useRouter();\r\nconst store = useStore();\r\n\r\nconst username = ref(null);\r\nconst currentUser = ref(null);\r\n\r\n\r\nconst signOut = async () => {\r\n  const signOutBtnElement = document.getElementById('signOutBtn');\r\n  signOutBtnElement.disabled = true;\r\n  signOutBtnElement.className = 'text-pink-500';\r\n  signOutBtnElement.innerText =  'Signing out...'\r\n  await axios.delete('http://localhost:3000/auth/signout', {withCredentials: true});\r\n  localStorage.removeItem('username');\r\n  // router.push('/auth/signin')\r\n  username.value = '';\r\n  window.location.replace(\"http://localhost:8080/auth/signin\");\r\n\r\n}\r\n\r\nonMounted( async () => {\r\n  try {\r\n    const response = await axios.get('http://localhost:3000/users/currentuser', {withCredentials: true});\r\n    currentUser.value = response.data;\r\n    username.value = localStorage.getItem('username');\r\n    console.log(username.value);\r\n  } catch (error) {\r\n    if(localStorage.getItem('username')) {\r\n      localStorage.removeItem('username');\r\n    }\r\n  }\r\n\r\n  \r\n})\r\n\r\n\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module"}