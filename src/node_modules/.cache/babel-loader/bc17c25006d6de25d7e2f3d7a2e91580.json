{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, vModelCheckbox as _vModelCheckbox, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"relative w-screen h-screen bg-gray-200\"\n};\nconst _hoisted_2 = {\n  class: \"absolute left-0 right-0 top-10 mx-auto w-1/3 h-[440px] rounded-sm border border-gray-100 bg-white p-10\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"header\", {\n  class: \"w-full h-1/6 flex items-center pl-2 bg-sky-200 text-3xl mb-5\"\n}, \"Sign In\", -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"\",\n  class: \"text-lg block\"\n}, [/*#__PURE__*/_createTextVNode(\"Username\"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text-red-500\"\n}, \"*\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"\",\n  class: \"text-lg block\"\n}, [/*#__PURE__*/_createTextVNode(\"Password\"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text-red-500\"\n}, \"*\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"rememberMe\"\n}, \"Remember me\", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"section\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    id: \"usernameInput\",\n    type: \"text\",\n    class: \"border border-gray-200 h-10 w-full pl-2\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.username = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.username]]), _createElementVNode(\"p\", null, _toDisplayString($setup.usernameError), 1\n  /* TEXT */\n  ), _hoisted_5, _hoisted_6, _hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    id: \"passwordInput\",\n    type: \"password\",\n    class: \"border border-gray-200 h-10 w-full pl-2\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.password]]), _createElementVNode(\"p\", null, _toDisplayString($setup.passwordError), 1\n  /* TEXT */\n  ), _hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    class: \"mt-2 mr-2\",\n    id: \"rememberMe\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.isRememberMeCheck = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelCheckbox, $setup.isRememberMeCheck]]), _hoisted_9, _createElementVNode(\"div\", null, [_createVNode(_component_router_link, {\n    to: \"/auth/signup\",\n    class: \"text-sm text-sky-500 hover:underline hover:decoration-solid\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Don't have account? Sign up here \")]),\n    _: 1\n    /* STABLE */\n\n  })]), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = $event => $setup.signIn()),\n    class: \"block mt-7 py-1 px-3 bg-black rounded-md text-xl text-white hover:text-zinc-600 hover:bg-slate-200\",\n    ref: \"signInRef\"\n  }, \"Login\", 512\n  /* NEED_PATCH */\n  )])])]);\n}","map":{"version":3,"mappings":";;EAESA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;gCACTC,oBAA8F,QAA9F,EAA8F;EAAtFD,KAAK,EAAC;AAAgF,CAA9F,EAA8E,SAA9E,EAAqF;AAAA;AAArF;;gCACAC,oBAAwF,OAAxF,EAAwF;EAAjFC,GAAG,EAAC,EAA6E;EAA1EF,KAAK,EAAC;AAAoE,CAAxF,iCAAqC,0BAAQC,oBAAmC,MAAnC,EAAmC;EAA7BD,KAAK,EAAC;AAAuB,CAAnC,EAA2B,GAA3B,EAA7C;;AAAA;;gCAGAC,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI;AAAA;AAAJ;;gCAAIA,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI;AAAA;AAAJ;;gCACJA,oBAAwF,OAAxF,EAAwF;EAAjFC,GAAG,EAAC,EAA6E;EAA1EF,KAAK,EAAC;AAAoE,CAAxF,iCAAqC,0BAAQC,oBAAmC,MAAnC,EAAmC;EAA7BD,KAAK,EAAC;AAAuB,CAAnC,EAA2B,GAA3B,EAA7C;;AAAA;;gCAGAC,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI;AAAA;AAAJ;;gCAEAA,oBAA2C,OAA3C,EAA2C;EAApCC,GAAG,EAAC;AAAgC,CAA3C,EAAwB,aAAxB,EAAmC;AAAA;AAAnC;;;;;uBAbNC,oBA0BU,SA1BV,EA0BU,IA1BV,EA0BU,CAzBRF,oBAuBM,KAvBN,cAuBM,CAtBJA,oBAqBM,KArBN,cAqBM,CApBJG,UAoBI,EAnBJC,UAmBI,kBAlBJJ,oBAAyG,OAAzG,EAAyG;IAAlGK,EAAE,EAAC,eAA+F;IAA/EC,IAAI,EAAC,MAA0E;IAAnEP,KAAK,EAAC,yCAA6D;+DAAVQ,kBAAQC;EAAE,CAAzG;;EAAA,kBAA+FD,kBAkB3F,EAjBJP,oBAA0B,GAA1B,EAA0B,IAA1B,EAA0BS,iBAApBF,oBAAoB,CAA1B,EAAmB;EAAA;EAAnB,CAiBI,EAhBJG,UAgBI,EAhBAC,UAgBA,EAfJC,UAeI,kBAdJZ,oBAA6G,OAA7G,EAA6G;IAAtGK,EAAE,EAAC,eAAmG;IAAnFC,IAAI,EAAC,UAA8E;IAAnEP,KAAK,EAAC,yCAA6D;+DAAVQ,kBAAQC;EAAE,CAA7G;;EAAA,kBAAmGD,kBAc/F,EAbJP,oBAA0B,GAA1B,EAA0B,IAA1B,EAA0BS,iBAApBF,oBAAoB,CAA1B,EAAmB;EAAA;EAAnB,CAaI,EAZJM,UAYI,kBAXJb,oBAAsF,OAAtF,EAAsF;IAA/EM,IAAI,EAAC,UAA0E;IAA/DP,KAAK,EAAC,WAAyD;IAA5CM,EAAE,EAAC,YAAyC;+DAAnBE,2BAAiBC;EAAE,CAAtF;;EAAA,sBAAmED,2BAW/D,EAVJO,UAUI,EATJd,oBAIM,KAJN,EAIM,IAJN,EAIM,CAHJe,aAEcC,sBAFd,EAEc;IAFDC,EAAE,EAAC,cAEF;IAFiBlB,KAAK,EAAC;EAEvB,CAFd;sBAAoG,MAEpG,kBAFoG,qCAEpG;;;;GAFA,CAGI,CAJN,CASI,EAHJC,oBACqH,QADrH,EACqH;IAD5GkB,OAAK,sCAAEX,eAAF,CACuG;IAD3FR,KAAK,EAAC,oGACqF;IAA9BoB,GAAG,EAAC;EAA0B,CADrH,EACuG,OADvG,EAC4G;EAAA;EAD5G,CAGI,CArBN,CAsBI,CAvBN,CAyBQ,CA1BV","names":["class","_createElementVNode","for","_createElementBlock","_hoisted_3","_hoisted_4","id","type","$setup","$event","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createVNode","_component_router_link","to","onClick","ref"],"sourceRoot":"","sources":["E:\\LapTrinh\\NestJS\\social-media-clone\\frontend\\src\\components\\auth\\SignIn.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\" relative w-screen h-screen bg-gray-200 \">\r\n      <div class=\" absolute left-0 right-0 top-10 mx-auto w-1/3 h-[440px] rounded-sm border border-gray-100 bg-white p-10\">\r\n        <header class=\" w-full h-1/6 flex items-center pl-2 bg-sky-200 text-3xl mb-5\">Sign In</header>\r\n        <label for=\"\" class=\" text-lg block\">Username<span class=\"text-red-500\">*</span></label>\r\n        <input id=\"usernameInput\" type=\"text\" class=\"border border-gray-200 h-10 w-full pl-2\" v-model=\"username\">\r\n        <p>{{ usernameError }}</p>\r\n        <br><br>\r\n        <label for=\"\" class=\" text-lg block\">Password<span class=\"text-red-500\">*</span></label>\r\n        <input id=\"passwordInput\" type=\"password\" class=\"border border-gray-200 h-10 w-full pl-2\" v-model=\"password\">\r\n        <p>{{ passwordError }}</p>\r\n        <br>\r\n        <input type=\"checkbox\" class=\" mt-2 mr-2\" id=\"rememberMe\" v-model=\"isRememberMeCheck\">\r\n        <label for=\"rememberMe\">Remember me</label>\r\n        <div>\r\n          <router-link to=\"/auth/signup\" class=\" text-sm text-sky-500 hover:underline hover:decoration-solid\">\r\n            Don't have account? Sign up here \r\n          </router-link>\r\n        </div>\r\n\r\n        <button @click=\"signIn()\" class=\" block mt-7 py-1 px-3 bg-black rounded-md \r\n                                    text-xl text-white hover:text-zinc-600 hover:bg-slate-200\" ref=\"signInRef\">Login</button>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </section>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport axios from 'axios';\r\nimport {useRouter} from \"vue-router\"\r\nimport {useStore} from \"vuex\"\r\n\r\nconst store = useStore();\r\nconst router = useRouter();\r\n\r\nconst username = ref('');\r\nconst password = ref('');\r\nconst usernameError = ref('');\r\nconst passwordError = ref('');\r\n\r\n// const returnValue = ref('');\r\nconst isRememberMeCheck = ref(false);\r\nconst signInRef = ref(null);\r\n\r\nconsole.log(signInRef);\r\n\r\nconst signIn = async () => {\r\n  console.log('inside signIn');\r\n  if(username.value === '') {\r\n    const usernameInputElement = document.getElementById('usernameInput');\r\n    usernameInputElement.style.outline = \"solid 1px red\";\r\n    usernameError.value = \"Username can't be blank\";\r\n  } \r\n  else if(password.value === '') {\r\n    const passwordInputElement = document.getElementById('passwordInput');\r\n    passwordInputElement.style.outline = \"solid 1px red\";\r\n    passwordError.value = \"Password can't be blank\";\r\n  }\r\n  else {\r\n    const data = {\r\n      username: username.value,\r\n      password: password.value,\r\n    };\r\n\r\n    try {\r\n      console.log('remember me ', isRememberMeCheck.value);\r\n      signInRef.value.disabled = true;\r\n      signInRef.value.classList.toggle('hover:text-zinc-600');\r\n      signInRef.value.innerText = 'loading...';\r\n      const response = await axios.post(`http://localhost:3000/auth/signin?rememberMe=${isRememberMeCheck.value}`, data, {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        },\r\n        withCredentials: true,\r\n      });\r\n      returnValue.value = response.data;\r\n      // store.dispatch('getCurrentUser', {username: username.value})\r\n      localStorage.setItem('username' ,username.value);\r\n      // router.push('/dashboard')\r\n      window.location.replace(\"http://localhost:8080/dashboard\");\r\n      // console.log(returnValue.value);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  \r\n\r\n\r\n  // try {\r\n  //   const response = await fetch('http://localhost:3000/auth/signin', {\r\n  //     method: \"POST\",\r\n  //     headers: {'Content-Type': 'application/json',},\r\n  //     body: JSON.stringify(data),\r\n  //   })\r\n  //   returnValue.value = await response.json();\r\n  // } catch (error) {\r\n  //   console.log(error);\r\n  // }\r\n\r\n\r\n\r\n  \r\n};\r\n\r\n</script>\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}