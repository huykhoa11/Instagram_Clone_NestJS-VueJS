{"ast":null,"code":"import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector) {\n  if (keySelector === void 0) {\n    keySelector = identity;\n  }\n\n  comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n  return operate(function (source, subscriber) {\n    var previousKey;\n    var first = true;\n    source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n      var currentKey = keySelector(value);\n\n      if (first || !comparator(previousKey, currentKey)) {\n        first = false;\n        previousKey = currentKey;\n        subscriber.next(value);\n      }\n    }));\n  });\n}\n\nfunction defaultCompare(a, b) {\n  return a === b;\n}","map":{"version":3,"mappings":"AACA,SAASA,QAAT,QAAyB,kBAAzB;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,SAASC,wBAAT,QAAyC,sBAAzC;AAuIA,OAAM,SAAUC,oBAAV,CACJC,UADI,EAEJC,WAFI,EAEsD;EAA1D;IAAAA,cAA+BL,QAA/B;EAA0D;;EAK1DI,UAAU,GAAGA,UAAU,SAAV,cAAU,WAAV,gBAAcE,cAA3B;EAEA,OAAOL,OAAO,CAAC,UAACM,MAAD,EAASC,UAAT,EAAmB;IAGhC,IAAIC,WAAJ;IAEA,IAAIC,KAAK,GAAG,IAAZ;IAEAH,MAAM,CAACI,SAAP,CACET,wBAAwB,CAACM,UAAD,EAAa,UAACI,KAAD,EAAM;MAEzC,IAAMC,UAAU,GAAGR,WAAW,CAACO,KAAD,CAA9B;;MAKA,IAAIF,KAAK,IAAI,CAACN,UAAW,CAACK,WAAD,EAAcI,UAAd,CAAzB,EAAoD;QAMlDH,KAAK,GAAG,KAAR;QACAD,WAAW,GAAGI,UAAd;QAGAL,UAAU,CAACM,IAAX,CAAgBF,KAAhB;MACD;IACF,CAnBuB,CAD1B;EAsBD,CA7Ba,CAAd;AA8BD;;AAED,SAASN,cAAT,CAAwBS,CAAxB,EAAgCC,CAAhC,EAAsC;EACpC,OAAOD,CAAC,KAAKC,CAAb;AACD","names":["identity","operate","createOperatorSubscriber","distinctUntilChanged","comparator","keySelector","defaultCompare","source","subscriber","previousKey","first","subscribe","value","currentKey","next","a","b"],"sourceRoot":"","sources":["../../../../src/internal/operators/distinctUntilChanged.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}