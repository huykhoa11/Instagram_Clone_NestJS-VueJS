{"ast":null,"code":"import { isFunction } from '../util/isFunction';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { identity } from '../util/identity';\nexport function tap(observerOrNext, error, complete) {\n  var tapObserver = isFunction(observerOrNext) || error || complete ? {\n    next: observerOrNext,\n    error: error,\n    complete: complete\n  } : observerOrNext;\n  return tapObserver ? operate(function (source, subscriber) {\n    var _a;\n\n    (_a = tapObserver.subscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n    var isUnsub = true;\n    source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n      var _a;\n\n      (_a = tapObserver.next) === null || _a === void 0 ? void 0 : _a.call(tapObserver, value);\n      subscriber.next(value);\n    }, function () {\n      var _a;\n\n      isUnsub = false;\n      (_a = tapObserver.complete) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n      subscriber.complete();\n    }, function (err) {\n      var _a;\n\n      isUnsub = false;\n      (_a = tapObserver.error) === null || _a === void 0 ? void 0 : _a.call(tapObserver, err);\n      subscriber.error(err);\n    }, function () {\n      var _a, _b;\n\n      if (isUnsub) {\n        (_a = tapObserver.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n      }\n\n      (_b = tapObserver.finalize) === null || _b === void 0 ? void 0 : _b.call(tapObserver);\n    }));\n  }) : identity;\n}","map":{"version":3,"mappings":"AACA,SAASA,UAAT,QAA2B,oBAA3B;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,SAASC,wBAAT,QAAyC,sBAAzC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAsGA,OAAM,SAAUC,GAAV,CACJC,cADI,EAEJC,KAFI,EAGJC,QAHI,EAG0B;EAK9B,IAAMC,WAAW,GACfR,UAAU,CAACK,cAAD,CAAV,IAA8BC,KAA9B,IAAuCC,QAAvC,GAEK;IAAEE,IAAI,EAAEJ,cAAR;IAAmFC,KAAK,OAAxF;IAA0FC,QAAQ;EAAlG,CAFL,GAGIF,cAJN;EAMA,OAAOG,WAAW,GACdP,OAAO,CAAC,UAACS,MAAD,EAASC,UAAT,EAAmB;;;IACzB,iBAAW,CAACC,SAAZ,MAAqB,IAArB,IAAqBC,aAArB,GAAqB,MAArB,GAAqBA,QAArBL,WAAqB,CAArB;IACA,IAAIM,OAAO,GAAG,IAAd;IACAJ,MAAM,CAACE,SAAP,CACEV,wBAAwB,CACtBS,UADsB,EAEtB,UAACI,KAAD,EAAM;;;MACJ,iBAAW,CAACN,IAAZ,MAAgB,IAAhB,IAAgBI,aAAhB,GAAgB,MAAhB,GAAgBA,QAAhBL,WAAgB,EAAGO,KAAH,CAAhB;MACAJ,UAAU,CAACF,IAAX,CAAgBM,KAAhB;IACD,CALqB,EAMtB;;;MACED,OAAO,GAAG,KAAV;MACA,iBAAW,CAACP,QAAZ,MAAoB,IAApB,IAAoBM,aAApB,GAAoB,MAApB,GAAoBA,QAApBL,WAAoB,CAApB;MACAG,UAAU,CAACJ,QAAX;IACD,CAVqB,EAWtB,UAACS,GAAD,EAAI;;;MACFF,OAAO,GAAG,KAAV;MACA,iBAAW,CAACR,KAAZ,MAAiB,IAAjB,IAAiBO,aAAjB,GAAiB,MAAjB,GAAiBA,QAAjBL,WAAiB,EAAGQ,GAAH,CAAjB;MACAL,UAAU,CAACL,KAAX,CAAiBU,GAAjB;IACD,CAfqB,EAgBtB;;;MACE,IAAIF,OAAJ,EAAa;QACX,iBAAW,CAACG,WAAZ,MAAuB,IAAvB,IAAuBJ,aAAvB,GAAuB,MAAvB,GAAuBA,QAAvBL,WAAuB,CAAvB;MACD;;MACD,iBAAW,CAACU,QAAZ,MAAoB,IAApB,IAAoBC,aAApB,GAAoB,MAApB,GAAoBA,QAApBX,WAAoB,CAApB;IACD,CArBqB,CAD1B;EAyBD,CA5BM,CADO,GAiCdL,QAjCJ;AAkCD","names":["isFunction","operate","createOperatorSubscriber","identity","tap","observerOrNext","error","complete","tapObserver","next","source","subscriber","subscribe","_a","isUnsub","value","err","unsubscribe","finalize","_b"],"sourceRoot":"","sources":["../../../../src/internal/operators/tap.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}