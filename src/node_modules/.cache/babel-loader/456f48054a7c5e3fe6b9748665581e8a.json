{"ast":null,"code":"import { useStore } from 'vuex';\nimport { useRouter } from \"vue-router\";\nimport { computed, onMounted, ref } from 'vue';\nimport axios from 'axios';\nexport default {\n  __name: 'NavBar',\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const router = useRouter();\n    const store = useStore();\n    const username = ref('');\n\n    const signOut = async () => {\n      const signOutBtnElement = document.getElementById('signOutBtn');\n      signOutBtnElement.disabled = true;\n      signOutBtnElement.className = 'text-pink-500';\n      signOutBtnElement.innerText = 'Loading..';\n      await axios.delete('http://localhost:3000/auth/signout', {\n        withCredentials: true\n      });\n      localStorage.removeItem('username'); // router.push('/auth/signin')\n\n      window.location.replace(\"http://localhost:8080/auth/signin\");\n    };\n\n    onMounted(() => {\n      username.value = localStorage.getItem('username');\n    });\n    const __returned__ = {\n      router,\n      store,\n      username,\n      signOut,\n      useStore,\n      useRouter,\n      computed,\n      onMounted,\n      ref,\n      axios\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AA6BA,SAASA,QAAT,QAAyB,MAAzB;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,GAA9B,QAAyC,KAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;;;;;IAEA,MAAMC,MAAM,GAAGL,SAAS,EAAxB;IACA,MAAMM,KAAK,GAAGP,QAAQ,EAAtB;IAEA,MAAMQ,QAAQ,GAAGJ,GAAG,CAAC,EAAD,CAApB;;IAGA,MAAMK,OAAO,GAAG,YAAY;MAC1B,MAAMC,iBAAiB,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAA1B;MACAF,iBAAiB,CAACG,QAAlB,GAA6B,IAA7B;MACAH,iBAAiB,CAACI,SAAlB,GAA8B,eAA9B;MACAJ,iBAAiB,CAACK,SAAlB,GAA+B,WAA/B;MACA,MAAMV,KAAK,CAACW,MAAN,CAAa,oCAAb,EAAmD;QAACC,eAAe,EAAE;MAAlB,CAAnD,CAAN;MACAC,YAAY,CAACC,UAAb,CAAwB,UAAxB,EAN0B,CAO1B;;MACAC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,mCAAxB;IAED,CAVD;;IAYAnB,SAAS,CAAE,MAAM;MACfK,QAAQ,CAACe,KAAT,GAAiBL,YAAY,CAACM,OAAb,CAAqB,UAArB,CAAjB;IACD,CAFQ,CAAT","names":["useStore","useRouter","computed","onMounted","ref","axios","router","store","username","signOut","signOutBtnElement","document","getElementById","disabled","className","innerText","delete","withCredentials","localStorage","removeItem","window","location","replace","value","getItem"],"sources":["E:/LapTrinh/NestJS/social-media-clone/frontend/src/components/NavBar.vue"],"sourcesContent":["<template>\r\n    <nav>\r\n      <div class=\"drop-shadow-sm bg-zinc-700 flex justify-between font-semibold\" v-if=\"username !== '' \">\r\n        <div class=\"\">\r\n          <p class=\" text-pink-500\">Hello {{ username }}</p>\r\n        </div>\r\n        <div class=\"\">\r\n          <button id=\"signOutBtn\" @click=\"signOut()\" class=\" text-pink-500 hover:text-gray-50 hover:bg-pink-500 cursor-pointer\">Sign Out</button>\r\n        </div>\r\n        \r\n      </div>\r\n\r\n      <div class=\"drop-shadow-sm bg-zinc-600 flex justify-between font-semibold\" v-else>\r\n        <div class=\"\">\r\n          <p class=\" text-pink-500\">Let sign in ^^</p>\r\n        </div>\r\n        <div class=\"\">\r\n          <router-link to=\"/auth/signup\" class=\" text-pink-500 hover:text-gray-50 hover:bg-pink-500\">Sign Up</router-link>\r\n          <router-link to=\"/auth/signin\" class=\" text-pink-500 hover:text-gray-50 hover:bg-pink-500\">Sign In</router-link>\r\n        </div>\r\n      </div>\r\n\r\n        \r\n    </nav>\r\n    \r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from \"vue-router\"\r\nimport { computed, onMounted, ref } from 'vue';\r\nimport axios from 'axios';\r\n\r\nconst router = useRouter();\r\nconst store = useStore();\r\n\r\nconst username = ref('');\r\n\r\n\r\nconst signOut = async () => {\r\n  const signOutBtnElement = document.getElementById('signOutBtn');\r\n  signOutBtnElement.disabled = true;\r\n  signOutBtnElement.className = 'text-pink-500';\r\n  signOutBtnElement.innerText =  'Loading..'\r\n  await axios.delete('http://localhost:3000/auth/signout', {withCredentials: true});\r\n  localStorage.removeItem('username');\r\n  // router.push('/auth/signin')\r\n  window.location.replace(\"http://localhost:8080/auth/signin\");\r\n\r\n}\r\n\r\nonMounted( () => {\r\n  username.value = localStorage.getItem('username');\r\n})\r\n\r\n\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module"}