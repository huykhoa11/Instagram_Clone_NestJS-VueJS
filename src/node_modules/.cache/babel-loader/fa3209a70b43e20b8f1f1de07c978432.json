{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"space-y-4 py-5\"\n};\nconst _hoisted_2 = {\n  class: \"flex items-center space-x-5 ml-16\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"text-lg font-semibold\"\n};\nconst _hoisted_5 = {\n  class: \"flex items-center h-9\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"min-w-32 text-right pr-4\"\n}, \"Name\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = {\n  class: \"flex items-center h-9\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"min-w-32 text-right pr-4\"\n}, \"Bio\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  class: \"flex items-center h-9\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"min-w-32 text-right pr-4\"\n}, \"Email\", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"section\", null, [$setup.currentUser ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n    src: require('./../../assets/' + $setup.currentUser.avatar),\n    alt: \"\",\n    class: \"h-14 w-14\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_3), _createElementVNode(\"p\", _hoisted_4, _toDisplayString($setup.currentUser.username), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.nameInput = $event),\n    class: \"h-full pl-2 border-2 border-gray-200 flex-1 outline-none rounded-sm shadow-sm shadow-gray-500/50\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.nameInput]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.bioInput = $event),\n    class: \"h-full pl-2 border-2 border-gray-200 flex-1 outline-none rounded-sm shadow-sm shadow-gray-500/50\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.bioInput]])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.emailInput = $event),\n    class: \"h-full pl-2 border-2 border-gray-200 flex-1 outline-none rounded-sm shadow-sm shadow-gray-500/50\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.emailInput]])]), _createCommentVNode(\" <div class=\\\" flex items-center h-9\\\">\\r\\n                <div class=\\\" min-w-32\\\">Password</div>\\r\\n                <input type=\\\"text\\\" class=\\\" h-full pl-2 border-2 border-gray-200 flex-1 outline-none shadow-sm shadow-gray-500/50\\\"\\r\\n                        placeholder=\\\"Leave blank if you don't want to change it\\\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\" flex items-center h-9\\\">\\r\\n                <div class=\\\" w-32\\\">Password Confirmation</div>\\r\\n                <input type=\\\"text\\\" class=\\\" h-full pl-2 border-2 border-gray-200 flex-1 outline-none shadow-sm shadow-gray-500/50\\\">\\r\\n            </div> \"), _createElementVNode(\"button\", {\n    class: \"ml-32 mt-10 px-2 py-1 text-white hover:bg-blue-400 rounded-sm bg-blue-500 shadow-lg shadow-blue-500/50\",\n    onClick: $setup.update\n  }, \" Update \")])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":";;;EAEgCA,KAAK,EAAC;;;EACrBA,KAAK,EAAC;;;;EAEJA,KAAK,EAAC;;;EAGRA,KAAK,EAAC;;;gCACPC,oBAAiD,KAAjD,EAAiD;EAA5CD,KAAK,EAAC;AAAsC,CAAjD,EAAuC,MAAvC,EAA2C;AAAA;AAA3C;;;EAICA,KAAK,EAAC;;;gCACPC,oBAAgD,KAAhD,EAAgD;EAA3CD,KAAK,EAAC;AAAqC,CAAhD,EAAuC,KAAvC,EAA0C;AAAA;AAA1C;;;EAICA,KAAK,EAAC;;;iCACPC,oBAAkD,KAAlD,EAAkD;EAA7CD,KAAK,EAAC;AAAuC,CAAlD,EAAuC,OAAvC,EAA4C;AAAA;AAA5C;;;uBAlBZE,oBAuCU,SAvCV,EAuCU,IAvCV,EAuCU,CAtCKC,oCAAXD,oBAqCM,KArCN,cAqCM,CApCFD,oBAGM,KAHN,cAGM,CAFFA,oBAAsF,KAAtF,EAAsF;IAAhFG,GAAG,EAAEC,OAAO,qBAAqBF,mBAAYG,MAAjC,CAAoE;IAA1BC,GAAG,EAAC,EAAsB;IAAnBP,KAAK,EAAC;EAAa,CAAtF;;EAAA,aAEE,EADFC,oBAAgE,GAAhE,cAAgEO,iBAA3BL,mBAAYM,QAAe,CAAhE,EAAyD;EAAA;EAAzD,CACE,CAHN,CAoCE,EA/BFR,oBAGM,KAHN,cAGM,CAFFS,UAEE,kBADFT,oBAAiJ,OAAjJ,EAAiJ;IAA1IU,IAAI,EAAC,MAAqI;+DAArHR,mBAASS,OAA4G;IAA1GZ,KAAK,EAAC;EAAoG,CAAjJ;;EAAA,kBAA4BG,mBAC1B,CAHN,CA+BE,EA1BFF,oBAGM,KAHN,cAGM,CAFFY,UAEE,kBADFZ,oBAAgJ,OAAhJ,EAAgJ;IAAzIU,IAAI,EAAC,MAAoI;+DAApHR,kBAAQS,OAA4G;IAA1GZ,KAAK,EAAC;EAAoG,CAAhJ;;EAAA,kBAA4BG,kBAC1B,CAHN,CA0BE,EArBFF,oBAGM,KAHN,cAGM,CAFFa,WAEE,kBADFb,oBAAkJ,OAAlJ,EAAkJ;IAA3IU,IAAI,EAAC,MAAsI;+DAAtHR,oBAAUS,OAA4G;IAA1GZ,KAAK,EAAC;EAAoG,CAAlJ;;EAAA,kBAA4BG,oBAC1B,CAHN,CAqBE,EAhBFY,8oBAgBE,EALFd,oBAGS,QAHT,EAGS;IAHDD,KAAK,EAAC,wGAGL;IAFkDgB,OAAK,EAAEb;EAEzD,CAHT,EAC0E,UAD1E,CAKE,CArCN,sCAsCM,CAvCV","names":["class","_createElementVNode","_createElementBlock","$setup","src","require","avatar","alt","_toDisplayString","username","_hoisted_6","type","$event","_hoisted_8","_hoisted_10","_createCommentVNode","onClick"],"sourceRoot":"","sources":["E:\\LapTrinh\\NestJS\\social-media-clone\\frontend\\src\\components\\EditUser\\EditBasicInfo.vue"],"sourcesContent":["<template>\r\n    <section>\r\n        <div v-if=\"currentUser\" class=\" space-y-4 py-5\">\r\n            <div class=\" flex items-center space-x-5 ml-16\">\r\n                <img :src=\"require('./../../assets/' + currentUser.avatar)\" alt=\"\" class=\" h-14 w-14\">\r\n                <p class=\" text-lg font-semibold\">{{ currentUser.username }}</p>\r\n            </div>\r\n            \r\n            <div class=\" flex items-center h-9\">\r\n                <div class=\" min-w-32 text-right pr-4\">Name</div>\r\n                <input type=\"text\" v-model=\"nameInput\" class=\" h-full pl-2 border-2 border-gray-200 flex-1 outline-none rounded-sm shadow-sm shadow-gray-500/50\">\r\n            </div>\r\n\r\n            <div class=\" flex items-center h-9\">\r\n                <div class=\" min-w-32 text-right pr-4\">Bio</div>\r\n                <input type=\"text\" v-model=\"bioInput\" class=\" h-full pl-2 border-2 border-gray-200 flex-1 outline-none rounded-sm shadow-sm shadow-gray-500/50\">\r\n            </div>\r\n\r\n            <div class=\" flex items-center h-9\">\r\n                <div class=\" min-w-32 text-right pr-4\">Email</div>\r\n                <input type=\"text\" v-model=\"emailInput\" class=\" h-full pl-2 border-2 border-gray-200 flex-1 outline-none rounded-sm shadow-sm shadow-gray-500/50\">\r\n            </div>\r\n\r\n            <!-- <div class=\" flex items-center h-9\">\r\n                <div class=\" min-w-32\">Password</div>\r\n                <input type=\"text\" class=\" h-full pl-2 border-2 border-gray-200 flex-1 outline-none shadow-sm shadow-gray-500/50\"\r\n                        placeholder=\"Leave blank if you don't want to change it\">\r\n            </div>\r\n\r\n            <div class=\" flex items-center h-9\">\r\n                <div class=\" w-32\">Password Confirmation</div>\r\n                <input type=\"text\" class=\" h-full pl-2 border-2 border-gray-200 flex-1 outline-none shadow-sm shadow-gray-500/50\">\r\n            </div> -->\r\n\r\n            <button class=\" ml-32 mt-10 px-2 py-1 text-white hover:bg-blue-400 rounded-sm\r\n                            bg-blue-500 shadow-lg shadow-blue-500/50\" @click=\"update\">\r\n                            Update\r\n            </button>\r\n\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, ref } from 'vue';\r\nimport axios from \"axios\";\r\n\r\nconst currentUser = ref(null);\r\nconst nameInput = ref(null);\r\nconst bioInput = ref(null);\r\nconst emailInput = ref(null);\r\n\r\nconst displayToast = (text, color) => {\r\n    Toastify({\r\n        text: text,\r\n        duration: 3000,\r\n        destination: \"#\",\r\n        close: true,\r\n        gravity: \"top\", // `top` or `bottom`\r\n        position: \"right\", // `left`, `center` or `right`\r\n        stopOnFocus: true, // Prevents dismissing of toast on hover\r\n        style: {\r\n            background: color,\r\n        },\r\n        onClick: function(){} // Callback after click\r\n    }).showToast();\r\n}\r\n\r\nconst update = async () => {\r\n    const data = {name: nameInput.value, bio: bioInput.value, email: emailInput.value};\r\n    try {\r\n        const response = await axios\r\n            .patch(`http://localhost:3000/users/${currentUser.value.id}`, data, {\r\n                headers: {\r\n                    Accept: \"application/json\",\r\n                    \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                },\r\n                withCredentials: true,\r\n            });\r\n        if(response.data) {\r\n            displayToast('Save successfully', '#5CB85C');\r\n            nameInput.value = '';\r\n            bioInput.value = '';\r\n            emailInput.value = '';\r\n        }\r\n    } catch (error) {\r\n        displayToast('Save failed', '#EC6A71');\r\n    }\r\n}\r\n\r\nonMounted( async() => {\r\n    try {\r\n        const response = await axios.get('http://localhost:3000/users/currentuser', {withCredentials: true});\r\n        console.log(response.data);\r\n        currentUser.value = response.data;\r\n        console.log(currentUser.value);\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n})\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}