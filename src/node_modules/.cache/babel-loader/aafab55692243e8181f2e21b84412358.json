{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nexport default {\n  __name: 'UserPage',\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const router = useRouter();\n    const user = ref(null);\n    const lengthOfTasks = ref(null);\n    const bigImagesOfTasks = ref([]); // console.log(router.currentRoute.value.params.id);\n\n    onMounted(async () => {\n      // const userId = parseInt(router.currentRoute.value.params.id);\n      const userId = router.currentRoute.value.params.id; // console.log(router);\n\n      try {\n        const response = await axios.get('http://localhost:3000/users/' + userId, {\n          withCredentials: true\n        });\n        user.value = response.data;\n        lengthOfTasks.value = user.value.tasks.length;\n        console.log(user.value.tasks[0].images[0].name);\n        user.value.tasks.forEach(task => {\n          console.log(task.images[0].name);\n          bigImagesOfTasks.value.push(task.images[0].name);\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    const __returned__ = {\n      router,\n      user,\n      lengthOfTasks,\n      bigImagesOfTasks,\n      ref,\n      onMounted,\n      useRouter,\n      axios\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":";AAqCA,SAASA,GAAT,EAAcC,SAAd,QAA+B,KAA/B;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;;;;;IAEA,MAAMC,MAAM,GAAGF,SAAS,EAAxB;IAEA,MAAMG,IAAI,GAAGL,GAAG,CAAC,IAAD,CAAhB;IACA,MAAMM,aAAa,GAAGN,GAAG,CAAC,IAAD,CAAzB;IACA,MAAMO,gBAAgB,GAAGP,GAAG,CAAC,EAAD,CAA5B,EAEA;;IAEAC,SAAS,CAAE,YAAW;MAClB;MACA,MAAMO,MAAM,GAAGJ,MAAM,CAACK,YAAP,CAAoBC,KAApB,CAA0BC,MAA1B,CAAiCC,EAAhD,CAFkB,CAGlB;;MAEA,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAU,iCAAiCN,MAA3C,EAAmD;UAACO,eAAe,EAAE;QAAlB,CAAnD,CAAvB;QACAV,IAAI,CAACK,KAAL,GAAaG,QAAQ,CAACG,IAAtB;QACAV,aAAa,CAACI,KAAd,GAAsBL,IAAI,CAACK,KAAL,CAAWO,KAAX,CAAiBC,MAAvC;QACAC,OAAO,CAACC,GAAR,CAAYf,IAAI,CAACK,KAAL,CAAWO,KAAX,CAAiB,CAAjB,EAAoBI,MAApB,CAA2B,CAA3B,EAA8BC,IAA1C;QACAjB,IAAI,CAACK,KAAL,CAAWO,KAAX,CAAiBM,OAAjB,CAAyBC,IAAI,IAAI;UAC7BL,OAAO,CAACC,GAAR,CAAYI,IAAI,CAACH,MAAL,CAAY,CAAZ,EAAeC,IAA3B;UACAf,gBAAgB,CAACG,KAAjB,CAAuBe,IAAvB,CAA4BD,IAAI,CAACH,MAAL,CAAY,CAAZ,EAAeC,IAA3C;QACH,CAHD;MAIH,CATD,CASE,OAAOI,KAAP,EAAc;QACZP,OAAO,CAACC,GAAR,CAAYM,KAAZ;MACH;IAEJ,CAlBQ,CAAT","names":["ref","onMounted","useRouter","axios","router","user","lengthOfTasks","bigImagesOfTasks","userId","currentRoute","value","params","id","response","get","withCredentials","data","tasks","length","console","log","images","name","forEach","task","push","error"],"sources":["E:/LapTrinh/NestJS/social-media-clone/frontend/src/components/UserPage.vue"],"sourcesContent":["<template>\r\n    <div v-if=\"user\" class=\"w-screen relative flex-row justify-center mt-10\">\r\n        <div class=\" w-2/3 absolute left-0 right-0 mx-auto\">\r\n            <div class=\"flex justify-center items-center space-x-20\">\r\n                <!-- avatar -->\r\n                <img :src=\"require('./../assets/' + user.avatar)\" alt=\"\" class=\" h-36 w-36 rounded-full\">\r\n\r\n                <div class=\"\">\r\n                    <div class=\" flex space-x-5\">\r\n                        <h3 class=\" text-4xl font-thin\">{{ user.username }}</h3>\r\n                        <button class=\" text-sm font-semibold px-2 border border-gray-300 rounded-sm\">Edit profile</button>\r\n                    </div>\r\n\r\n                    <div class=\" flex space-x-10 mt-7\">\r\n                        <p> <span class=\" font-semibold\">{{ lengthOfTasks }}</span> posts </p>\r\n                        <p> 0 followers</p>\r\n                        <p> 0 following </p>\r\n                    </div>\r\n\r\n                    <p class=\" mt-7\">\r\n                        {{ user.bio }}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div class=\" mt-7 pt-7 border-t-2 border-gray-200 grid grid-cols-3 gap-4\">\r\n                <div v-for=\"image in bigImagesOfTasks\" :key=\"image\" class=\" h-60 hover:cursor-pointer group\">\r\n                    <img :src=\"require('./../assets/' + image)\" alt=\"\" class=\" w-full h-full\">\r\n                    <div class=\" relative -top-full w-full h-full group-hover:bg-black group-hover:opacity-50\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRouter } from \"vue-router\"\r\nimport axios from \"axios\";\r\n\r\nconst router = useRouter();\r\n\r\nconst user = ref(null);\r\nconst lengthOfTasks = ref(null);\r\nconst bigImagesOfTasks = ref([]);\r\n\r\n// console.log(router.currentRoute.value.params.id);\r\n\r\nonMounted( async() => {\r\n    // const userId = parseInt(router.currentRoute.value.params.id);\r\n    const userId = router.currentRoute.value.params.id;\r\n    // console.log(router);\r\n\r\n    try {\r\n        const response = await axios.get('http://localhost:3000/users/' + userId, {withCredentials: true});\r\n        user.value = response.data;\r\n        lengthOfTasks.value = user.value.tasks.length;\r\n        console.log(user.value.tasks[0].images[0].name);\r\n        user.value.tasks.forEach(task => {\r\n            console.log(task.images[0].name);\r\n            bigImagesOfTasks.value.push(task.images[0].name);\r\n        });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n\r\n})\r\n\r\n</script>"]},"metadata":{},"sourceType":"module"}