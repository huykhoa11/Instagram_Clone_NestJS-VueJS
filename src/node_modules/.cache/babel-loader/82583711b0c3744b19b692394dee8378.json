{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"fixed z-50 left-0 right-0 top-0 bottom-0 m-auto bg-white border border-gray-400 flex flex-col w-5/6 min-w-[320px] h-3/4 sm:h-5/6 md:flex-row md:w-2/3 md:h-5/6\"\n};\nconst _hoisted_2 = {\n  class: \"relative w-full h-3/5 md:w-3/5 md:h-full\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  key: 0\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"prev\",\n  class: \"absolute top-1/2 left-2 text-black font-bold w-7 h-7 flex items-center justify-center -translate-y-1/2 cursor-pointer rounded-full bg-white bg-opacity-50\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-angle-left\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"next\",\n  class: \"absolute top-1/2 right-2 text-black font-bold w-7 h-7 flex items-center justify-center -translate-y-1/2 cursor-pointer rounded-full bg-white bg-opacity-50\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-angle-right\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = {\n  class: \"absolute flex bottom-8 left-1/2 -translate-x-1/2 space-x-2\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"dot h-2 w-2 rounded-full bg-white bg-opacity-50\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = {\n  class: \"w-full h-2/5 md:w-2/5 md:h-full relative\"\n};\nconst _hoisted_11 = {\n  class: \"flex justify-between items-center h-8 md:h-16 border-b-2 border-gray-100\"\n};\nconst _hoisted_12 = {\n  class: \"flex items-center space-x-3 ml-3\"\n};\nconst _hoisted_13 = [\"src\"];\nconst _hoisted_14 = {\n  class: \"font-semibold\"\n};\nconst _hoisted_15 = {\n  key: 0,\n  class: \"flex items-center space-x-2 mr-2\",\n  id: \"EditOrDeleteFeature\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-pen-to-square\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_17 = [_hoisted_16];\n\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-trash\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_19 = [_hoisted_18];\nconst _hoisted_20 = {\n  class: \"mt-2 pl-3 h-3/5 md:h-4/5 flex flex-col border-b-2 border-gray-100\"\n};\nconst _hoisted_21 = {\n  key: 0,\n  class: \"flex items-center flex-none h-10 space-x-3\"\n};\nconst _hoisted_22 = [\"src\"];\nconst _hoisted_23 = {\n  class: \"\"\n};\nconst _hoisted_24 = {\n  key: 1,\n  class: \"h-36 flex flex-col relative text-sm md:text-md\"\n};\nconst _hoisted_25 = {\n  id: \"EditFeature\",\n  class: \"block\"\n};\nconst _hoisted_26 = {\n  class: \"absolute bottom-1 right-36 min-w-[50px] text-sm text-gray-300\"\n};\nconst _hoisted_27 = {\n  key: 2,\n  class: \"mt-2 text-sm flex-1 overflow-x-auto sm:text-md md:h-28\"\n};\nconst _hoisted_28 = {\n  class: \"flex items-center space-x-2\"\n};\nconst _hoisted_29 = [\"src\"];\nconst _hoisted_30 = {\n  class: \"text-[9px]\"\n};\nconst _hoisted_31 = [\"onClick\"];\nconst _hoisted_32 = {\n  class: \"relative flex justify-between px-3\"\n};\nconst _hoisted_33 = {\n  class: \"\"\n};\n\nconst _hoisted_34 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-sharp fa-solid fa-thumbs-up mr-2\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_35 = {\n  class: \"absolute left-16 -top-1 flex justify-center items-center text-white bg-pink-500 h-4 w-4 text-[13px] rounded-full\"\n};\nconst _hoisted_36 = {\n  class: \"text-xs text-gray-400\"\n};\nconst _hoisted_37 = {\n  class: \"w-full flex absolute bottom-0 border-t-2 border-gray-200\"\n};\nconst _hoisted_38 = [\"id\"];\nconst _hoisted_39 = [\"id\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" splide images \"), _createCommentVNode(\" <Splide :options=\\\"{ rewind: true }\\\" aria-label=\\\"Vue Splide Example\\\" class=\\\" w-fulll h-full\\\">\\r\\n                <SplideSlide v-for=\\\"image in Object.assign({}, passData.task.images)\\\" :key=\\\"image.id\\\" class=\\\" w-full h-full border-2 border-red-500\\\">\\r\\n                    <img :src=\\\"require(`./../assets/${image.name}`)\\\" alt=\\\"Sample 1\\\" class=\\\" w-full h-full object-cover\\\">\\r\\n                </SplideSlide>\\r\\n        </Splide> \"), _createCommentVNode(\" left \"), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Object.assign({}, $props.passData.task.images), image => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: image.id,\n      class: \"image w-full h-full border border-red-500\"\n    }, [_createElementVNode(\"img\", {\n      src: require(`./../assets/${image.name}`),\n      alt: \"Sample 1\",\n      class: \"w-full h-full\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_3)]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), $props.passData.task.images.length > 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_hoisted_5, _hoisted_6, _createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Object.assign({}, $props.passData.task.images), image => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: image.id,\n      class: \"\"\n    }, _hoisted_9);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" right \"), _createElementVNode(\"div\", _hoisted_10, [_createCommentVNode(\" {{ passData.task }} \"), _createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"img\", {\n    src: require('./../assets/' + $props.passData.task.user.avatar),\n    alt: \"\",\n    class: \"w-5 h-5 md:w-8 md:h-8 rounded-full border border-gray-50\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_13), _createElementVNode(\"p\", _hoisted_14, [_createVNode(_component_router_link, {\n    to: '/user/' + $props.passData.task.user.id + '?currentUserId=' + $setup.currentUserId,\n    class: \"hover:underline hover:decoration-solid\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($props.passData.task.user.username), 1\n    /* TEXT */\n    )]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"to\"])])]), $setup.userId === $setup.currentUserId ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [$setup.isEdit === false ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"hover:text-blue-500 hover:cursor-pointer text-sm md:text-md\",\n    onClick: _cache[0] || (_cache[0] = $event => $setup.isEdit = true)\n  }, _hoisted_17)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", {\n    class: \"hover:text-red-500 hover:cursor-pointer text-sm md:text-md\",\n    onClick: _cache[1] || (_cache[1] = $event => $setup.removeTask($props.passData.task.id))\n  }, _hoisted_19)])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Main content \"), _createElementVNode(\"div\", _hoisted_20, [_createCommentVNode(\" Task content \"), $setup.isEdit === false ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [_createElementVNode(\"img\", {\n    src: require('./../assets/' + $props.passData.task.user.avatar),\n    alt: \"\",\n    class: \"w-8 h-8 rounded-full border border-gray-50\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_22), _createElementVNode(\"p\", _hoisted_23, [_createVNode(_component_router_link, {\n    to: '/user/' + $props.passData.task.user.id + '?currentUserId=' + $setup.currentUserId,\n    class: \"font-semibold hover:underline hover:decoration-solid\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($props.passData.task.user.username), 1\n    /* TEXT */\n    )]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"to\"]), _createTextVNode(\" \" + _toDisplayString($props.passData.task.content), 1\n  /* TEXT */\n  )])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [_withDirectives(_createElementVNode(\"textarea\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.inputEditContent = $event),\n    class: \"h-28 w-full pl-1 outline-none border-none\",\n    maxlength: \"140\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.inputEditContent]]), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"p\", _hoisted_26, _toDisplayString($setup.inputEditContent.length) + \" /140\", 1\n  /* TEXT */\n  ), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = $event => $setup.editTask($props.passData.task.id)),\n    class: \"absolute bottom-1 right-20 min-w-[50px] rounded-md bg-green-500 text-white px-2\"\n  }, \"Save\"), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = $event => $setup.isEdit = false),\n    class: \"absolute bottom-1 right-4 min-w-[50px] rounded-md bg-gray-500 text-white px-2\"\n  }, \"Cancel\")])])), _createCommentVNode(\" Task comments \"), $setup.isEdit === false ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_27, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.passData.task.comments, comment => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: comment,\n      class: \"flex justify-between items-center px-1 pt-1 group hover:bg-gray-50\"\n    }, [_createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"img\", {\n      src: require('./../assets/' + comment.user.avatar),\n      alt: \"\",\n      class: \"w-5 h-5 rounded-full\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_29), _createElementVNode(\"div\", null, [_createVNode(_component_router_link, {\n      to: '/user/' + comment.user.id + '?currentUserId=' + $setup.currentUser.id,\n      class: \"font-semibold hover:underline hover:decoration-solid\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(comment.user.username) + \": \", 1\n      /* TEXT */\n      )]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"to\"]), _createTextVNode(\" \" + _toDisplayString(comment.content) + \" \", 1\n    /* TEXT */\n    ), _createElementVNode(\"span\", _hoisted_30, _toDisplayString($setup.timeAgoComment(comment)), 1\n    /* TEXT */\n    )])]), $setup.currentUserId === comment.user.id ? (_openBlock(), _createElementBlock(\"i\", {\n      key: 0,\n      onClick: $event => $setup.removeComment(comment.id),\n      class: \"fa-solid fa-x mr-4 text-xs hidden opacity-50 hover:cursor-pointer hover:opacity-80 hover:text-red-500 group-hover:inline-block\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_31)) : _createCommentVNode(\"v-if\", true)]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Like button \"), _createElementVNode(\"div\", _hoisted_32, [_createElementVNode(\"div\", _hoisted_33, [_createElementVNode(\"button\", {\n    id: \"btnLike\",\n    class: _normalizeClass([[$props.passData.task.likes.find(ele => ele.user.id === $setup.currentUserId) === undefined ? 'text-gray-400' : 'text-pink-400 bg-pink-100'], \"px-2 text-sm hover:bg-slate-200 hover:cursor-pointer\"]),\n    onClick: _cache[5] || (_cache[5] = $event => $setup.likeClick($props.passData.task))\n  }, [_hoisted_34, _createTextVNode(\"Like \")], 2\n  /* CLASS */\n  ), _createElementVNode(\"span\", _hoisted_35, _toDisplayString($props.passData.task.likes.length), 1\n  /* TEXT */\n  )]), _createElementVNode(\"p\", _hoisted_36, _toDisplayString($props.passData.task.updatedAt.split('T')[0]), 1\n  /* TEXT */\n  )]), _createCommentVNode(\" Comment input \"), _createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"input\", {\n    type: \"text\",\n    id: 'inputComment' + $props.passData.task.id,\n    placeholder: \"leave a comment\",\n    maxlength: \"50\",\n    class: \"h-9 outline-none flex-1 pl-3\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_38), _createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = $event => $setup.addComment($props.passData.task)),\n    id: 'buttonComment' + $props.passData.task.id,\n    class: \"px-2 border border-gray-200 bg-pink-500 hover:bg-pink-400 text-gray-100\"\n  }, \"Send\", 8\n  /* PROPS */\n  , _hoisted_39)])])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","id","_hoisted_8","_hoisted_16","_hoisted_18","_createElementBlock","_createCommentVNode","_Fragment","_renderList","Object","assign","$props","task","images","image","key","src","require","name","alt","length","_hoisted_4","_hoisted_5","_hoisted_6","user","avatar","_createVNode","_component_router_link","to","$setup","username","onClick","_toDisplayString","content","type","$event","maxlength","comments","comment","likes","find","ele","undefined","_hoisted_34","updatedAt","split","placeholder","_hoisted_39"],"sourceRoot":"","sources":["E:\\LapTrinh\\NestJS\\social-media-clone\\frontend\\src\\components\\Task.vue"],"sourcesContent":["<template>\r\n    <div class=\"fixed z-50 left-0 right-0 top-0 bottom-0 m-auto bg-white border border-gray-400\r\n                flex flex-col w-5/6 min-w-[320px] h-3/4 sm:h-5/6\r\n                md:flex-row md:w-2/3 md:h-5/6 \r\n                \">\r\n        <!-- splide images -->\r\n        <!-- <Splide :options=\"{ rewind: true }\" aria-label=\"Vue Splide Example\" class=\" w-fulll h-full\">\r\n                <SplideSlide v-for=\"image in Object.assign({}, passData.task.images)\" :key=\"image.id\" class=\" w-full h-full border-2 border-red-500\">\r\n                    <img :src=\"require(`./../assets/${image.name}`)\" alt=\"Sample 1\" class=\" w-full h-full object-cover\">\r\n                </SplideSlide>\r\n        </Splide> -->\r\n\r\n        <!-- left -->\r\n        <div class=\" relative w-full h-3/5 md:w-3/5 md:h-full \">\r\n            <div v-for=\"image in Object.assign({}, passData.task.images)\" :key=\"image.id\" class=\" image w-full h-full border border-red-500\">\r\n                <img :src=\"require(`./../assets/${image.name}`)\" alt=\"Sample 1\" class=\" w-full h-full\">\r\n            </div>\r\n\r\n            <div v-if=\"passData.task.images.length > 1\">\r\n\r\n                <div id=\"prev\" class=\" absolute top-1/2 left-2 text-black font-bold w-7 h-7 flex items-center justify-center \r\n                                        -translate-y-1/2 cursor-pointer rounded-full bg-white bg-opacity-50\">\r\n                    <i class=\"fa-solid fa-angle-left\"></i>\r\n                </div>\r\n                <div id=\"next\" class=\" absolute top-1/2 right-2 text-black font-bold w-7 h-7 flex items-center justify-center \r\n                                        -translate-y-1/2 cursor-pointer rounded-full bg-white bg-opacity-50\">\r\n                    <i class=\"fa-solid fa-angle-right\"></i>\r\n                </div>\r\n\r\n                <div class=\" absolute flex bottom-8 left-1/2 -translate-x-1/2 space-x-2\">\r\n                    <div v-for=\"image in Object.assign({}, passData.task.images)\" :key=\"image.id\" class=\" \">\r\n                        <div class=\"dot h-2 w-2 rounded-full bg-white bg-opacity-50\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div> \r\n\r\n\r\n        <!-- right -->\r\n        <div class=\" w-full h-2/5 md:w-2/5 md:h-full relative\">\r\n            <!-- {{ passData.task }} -->\r\n            <!-- Header -->\r\n            <div class=\" flex justify-between items-center h-8 md:h-16 border-b-2 border-gray-100\">\r\n                <div class=\" flex items-center space-x-3 ml-3\">\r\n                    <img :src=\"require('./../assets/' + passData.task.user.avatar)\" alt=\"\" class=\" w-5 h-5 md:w-8 md:h-8 rounded-full border border-gray-50\">\r\n                    <p class=\" font-semibold\">\r\n                        <router-link :to=\"'/user/' +passData.task.user.id+ '?currentUserId=' +currentUserId\" \r\n                                    class=\" hover:underline hover:decoration-solid\">\r\n                            {{ passData.task.user.username }}\r\n                        </router-link>\r\n                    </p>\r\n                </div>\r\n\r\n                <div v-if=\"userId === currentUserId\" class=\" flex items-center space-x-2 mr-2\" id=\"EditOrDeleteFeature\">\r\n                    <div class=\" hover:text-blue-500 hover:cursor-pointer text-sm md:text-md\" @click=\"isEdit = true\" v-if=\"isEdit === false\"><i class=\"fa-solid fa-pen-to-square\"></i></div>\r\n                    <div class=\" hover:text-red-500 hover:cursor-pointer text-sm md:text-md\" @click=\"removeTask(passData.task.id)\"><i class=\"fa-solid fa-trash\"></i></div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Main content -->\r\n            <div class=\" mt-2 pl-3 h-3/5 md:h-4/5 flex flex-col border-b-2 border-gray-100\">\r\n                <!-- Task content -->\r\n                <div v-if=\"isEdit === false\" class=\" flex items-center flex-none h-10 space-x-3\">\r\n                    <img :src=\"require('./../assets/' + passData.task.user.avatar)\" alt=\"\" class=\" w-8 h-8 rounded-full border border-gray-50\">\r\n                    <p class=\"\">\r\n                        <router-link :to=\"'/user/' +passData.task.user.id+ '?currentUserId=' +currentUserId\" \r\n                                    class=\" font-semibold hover:underline hover:decoration-solid\">\r\n                            {{ passData.task.user.username }}\r\n                        </router-link>\r\n                        {{ passData.task.content }}\r\n                    </p>\r\n                </div>\r\n\r\n                <div v-else class=\"h-36 flex flex-col relative text-sm md:text-md\">\r\n                    <textarea type=\"text\" v-model=\"inputEditContent\" \r\n                            class=\" h-28 w-full pl-1 outline-none border-none\" maxlength=\"140\"></textarea>\r\n                    <div id=\"EditFeature\" class=\" block\">\r\n                        <p class=\"absolute bottom-1 right-36 min-w-[50px] text-sm text-gray-300\"> {{ inputEditContent.length }} /140</p>\r\n                        <button @click=\"editTask(passData.task.id)\" class=\" absolute bottom-1 right-20 min-w-[50px] rounded-md bg-green-500 text-white px-2\">Save</button>\r\n                        <button @click=\"isEdit = false\" class=\" absolute bottom-1 right-4 min-w-[50px] rounded-md bg-gray-500 text-white px-2\">Cancel</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Task comments -->\r\n                <ul v-if=\"isEdit === false\" class=\" mt-2 text-sm flex-1 overflow-x-auto\r\n                                            sm:text-md md:h-28\">\r\n                    <li v-for=\"comment in passData.task.comments\" :key=\"comment\" class=\"flex justify-between items-center px-1 pt-1 group hover:bg-gray-50\">\r\n                        <div class=\"flex items-center space-x-2\">\r\n                            <img :src=\"require('./../assets/' + comment.user.avatar)\" alt=\"\" class=\" w-5 h-5 rounded-full\">\r\n                            <div>\r\n                                <router-link :to=\"'/user/' +comment.user.id+ '?currentUserId=' +currentUser.id\" \r\n                                                class=\" font-semibold hover:underline hover:decoration-solid\">\r\n                                    {{ comment.user.username }}:\r\n                                </router-link>\r\n                                {{comment.content}}  \r\n                                <span class=\" text-[9px]\">{{ timeAgoComment(comment) }}</span>\r\n                            </div>\r\n                        </div>\r\n                        <i v-if=\"currentUserId === comment.user.id\" @click=\"removeComment(comment.id)\" class=\"fa-solid fa-x mr-4 text-xs hidden opacity-50 \r\n                            hover:cursor-pointer hover:opacity-80 hover:text-red-500 group-hover:inline-block\"></i>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <!-- Like button -->\r\n            <div class=\" relative flex justify-between px-3\">\r\n                <div class=\"\">\r\n                    <button id=\"btnLike\"\r\n                        :class=\"[passData.task.likes.find(ele=>ele.user.id===currentUserId) === undefined ?  'text-gray-400' : 'text-pink-400 bg-pink-100'  ]\" \r\n                            @click=\"likeClick(passData.task)\" \r\n                            class=\" px-2 text-sm  hover:bg-slate-200 hover:cursor-pointer\">\r\n                            <i class=\"fa-sharp fa-solid fa-thumbs-up mr-2\"></i>Like\r\n                    </button>\r\n                    <span class=\"absolute left-16 -top-1 flex justify-center items-center text-white bg-pink-500\r\n                                        h-4 w-4 text-[13px] rounded-full \">{{ passData.task.likes.length }}</span>\r\n                </div>\r\n                <p class=\" text-xs text-gray-400\">{{ passData.task.updatedAt.split('T')[0] }}</p>\r\n            </div>\r\n\r\n            <!-- Comment input -->\r\n            <div class=\" w-full flex absolute bottom-0 border-t-2 border-gray-200\">\r\n                <input type=\"text\" :id=\"'inputComment' + passData.task.id\"  placeholder=\"leave a comment\" maxlength=\"50\"\r\n                        class=\" h-9 outline-none flex-1 pl-3\">\r\n                <button @click=\"addComment(passData.task)\" :id=\"'buttonComment' + passData.task.id\"\r\n                        class=\" px-2 border border-gray-200 bg-pink-500 hover:bg-pink-400 text-gray-100\">Send</button>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRouter } from \"vue-router\"\r\nimport axios from \"axios\";\r\nimport { displayToast, dangerColor, successColor } from './../composables/DisplayToast.js';\r\nimport { addLike, deleteLike, spin, createComment, deleteComment, saveEditTask, deleteTask, timeAgoComment } from './../composables/Fetch.js';\r\n\r\n// import splide\r\nimport { Splide, SplideSlide } from '@splidejs/vue-splide';\r\nimport '@splidejs/vue-splide/css';\r\n\r\nconst router = useRouter();\r\n\r\nconst users = ref([]);\r\nconst currentUser = ref({});\r\n\r\nconst userId = ref(null);\r\nconst currentUserId = ref(null);\r\nconst isEdit = ref(false);\r\nconst inputEditContent = ref('');\r\n\r\nconst slideIndex = ref(0);\r\n\r\nconst props = defineProps({\r\n    passData: Object\r\n});\r\nconst emit = defineEmits(['sendFromTaskVue']);\r\n\r\nconst likeClick = async(task) => {\r\n\r\n    const isLiked = props.passData.task.likes.find(ele=>ele.user.id===currentUserId.value) !== undefined;\r\n    if(isLiked === false) {\r\n        const btnLikeElement = document.getElementById('btnLike');\r\n        btnLikeElement.disabled = true;\r\n        btnLikeElement.innerHTML = spin();\r\n        btnLikeElement.classList.remove('hover:bg-slate-200', 'hover:cursor-pointer');\r\n        \r\n        const newLike = await addLike(task.id);\r\n\r\n        btnLikeElement.disabled = false;\r\n        btnLikeElement.innerHTML = `<i class=\"fa-sharp fa-solid fa-thumbs-up mr-2\"></i>Like`;\r\n        btnLikeElement.classList.add('hover:bg-slate-200', 'hover:cursor-pointer');\r\n\r\n        props.passData.task.likes.unshift(newLike);\r\n        // emit('sendFromTaskVue', props.passData.task);\r\n\r\n        // props.passData.task.user.likes.push({id: newLike.id, status: newLike.status});  //for changing color of like button\r\n    }\r\n    else {\r\n\r\n        deleteLike(task.id);\r\n        const likeNeedRemove = props.passData.task.likes.find(ele => ele.user.id === currentUserId.value);\r\n        const indexOfLikeNeedRemove = task.likes.indexOf(likeNeedRemove);\r\n        props.passData.task.likes.splice(indexOfLikeNeedRemove, 1);\r\n        // emit('sendFromTaskVue', props.passData.task);\r\n        // props.passData.task.user.likes.pop(); //for changing color of like button\r\n    }\r\n}\r\n\r\nconst addComment = async(task) => {\r\n    try {\r\n        const inputCommentElement  = document.getElementById(`inputComment${task.id}`);\r\n        const buttonCommentElement = document.getElementById(`buttonComment${task.id}`);\r\n        console.log(inputCommentElement.value);\r\n        const data = {content: inputCommentElement.value};\r\n        \r\n        buttonCommentElement.disabled = true;\r\n        buttonCommentElement.classList.toggle('hover:bg-pink-400');\r\n        buttonCommentElement.innerHTML = spin();\r\n\r\n        const newCmt = await createComment(task.id, data); \r\n    \r\n        inputCommentElement.value = '';\r\n        buttonCommentElement.disabled = false;\r\n        buttonCommentElement.innerHTML = 'Send';\r\n        buttonCommentElement.classList.toggle('hover:bg-pink-400');\r\n        props.passData.task.comments.unshift(newCmt)\r\n    } catch (error) {\r\n        displayToast('Comment must has its content!', dangerColor);\r\n    }\r\n}\r\n\r\nconst removeComment = async(commentId) => {\r\n    props.passData.task.comments = props.passData.task.comments.filter(item => item.id !== commentId);\r\n    await deleteComment(commentId);\r\n}\r\n\r\nconst editTask = async(taskId) => {\r\n    try {\r\n        const EditFeatureElement = document.getElementById('EditFeature');\r\n        const tmp = EditFeatureElement.innerHTML;\r\n        EditFeatureElement.innerHTML = spin();\r\n\r\n        const data = {content: inputEditContent.value};\r\n        const newUpdateTask = await saveEditTask(taskId, data);\r\n        \r\n        console.log(newUpdateTask);\r\n        EditFeatureElement.innerHTML = tmp;\r\n        isEdit.value = false;\r\n        props.passData.task.content = inputEditContent.value;\r\n        props.passData.task.updatedAt = newUpdateTask.updatedAt;\r\n        displayToast('Edit task succesfully', successColor);\r\n    } catch (error) {\r\n        displayToast(\"Task must has its content !\", dangerColor);\r\n    }\r\n    \r\n}\r\n\r\nconst removeTask = async(taskId) => {\r\n    const EditOrDeleteFeatureElement = document.getElementById('EditOrDeleteFeature');\r\n    const tmp = EditOrDeleteFeatureElement.innerHTML;\r\n    EditOrDeleteFeatureElement.innerHTML = spin();\r\n\r\n    await deleteTask(taskId);\r\n    console.log('delete done')\r\n\r\n    EditOrDeleteFeatureElement.innerHTML = tmp;\r\n    emit('sendFromTaskVue', {taskId: taskId, open: false});\r\n\r\n}\r\n\r\nonMounted( async() => {\r\n    console.log(props.passData);\r\n    inputEditContent.value = props.passData.task.content;\r\n\r\n    userId.value = parseInt(router.currentRoute.value.params.id);\r\n    currentUserId.value = parseInt(router.currentRoute.value.query.currentUserId);\r\n    console.log(userId.value, currentUserId.value);\r\n\r\n    const prev = document.getElementById('prev');\r\n    const next = document.getElementById('next');\r\n    const images = document.querySelectorAll('.image');\r\n    const dots = document.querySelectorAll('.dot');\r\n\r\n    (() => {\r\n        for(let i=0; i<images.length; i++) {\r\n            images[i].style.display = \"none\";\r\n        }\r\n        images[0].style.display = 'block';\r\n        if(dots.length > 0) {\r\n            dots[0].classList.add('bg-opacity-100');\r\n        }\r\n    })();\r\n\r\n    const resetSlideIndex = () => {\r\n        if(slideIndex.value < 0) {\r\n            slideIndex.value = images.length -1;\r\n        }\r\n        else if(slideIndex.value > images.length-1) {\r\n            slideIndex.value = 0;\r\n        }\r\n    }\r\n\r\n    const showSlide = () => {\r\n        for(let i=0; i<images.length; i++) {\r\n            images[i].style.display = \"none\";\r\n        }\r\n        images[slideIndex.value].style.display = \"block\";\r\n\r\n        for(let i=0; i<dots.length; i++) {\r\n            dots[i].classList.remove(\"bg-opacity-100\");\r\n        }\r\n        dots[slideIndex.value].classList.add(\"bg-opacity-100\");\r\n    }\r\n    \r\n    if(prev) {\r\n        prev.addEventListener('click', ()=>{\r\n            slideIndex.value -= 1;\r\n            resetSlideIndex();\r\n            showSlide();\r\n        })\r\n    }\r\n\r\n    if(next) {\r\n        next.addEventListener('click', ()=>{\r\n            slideIndex.value += 1;\r\n            resetSlideIndex();\r\n\r\n            showSlide();\r\n        })\r\n    }\r\n})\r\n\r\n\r\n\r\n</script>"]},"metadata":{},"sourceType":"module"}