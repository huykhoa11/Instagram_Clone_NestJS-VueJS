{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h3\", null, \" this is dashboard \", -1\n/* HOISTED */\n);\n\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = {\n  class: \"\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.tasks, task => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: task,\n      class: \"border border-red-400 my-3\"\n    }, [_createElementVNode(\"p\", null, _toDisplayString(task.content), 1\n    /* TEXT */\n    ), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(task.comments, comment => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        key: comment\n      }, _toDisplayString(comment.content), 1\n      /* TEXT */\n      );\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))]), _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.inputComment = $event),\n      class: \"border border-gray-200\",\n      placeholder: \"add comment\"\n    }, null, 512\n    /* NEED_PATCH */\n    ), [[_vModelText, $setup.inputComment]]), _createElementVNode(\"button\", {\n      onClick: $event => $setup.addComment(task.id),\n      ref_for: true,\n      ref: \"addCmtBtnRef\",\n      class: \"border border-black bg-slate-200\"\n    }, \"Add comment\", 8\n    /* PROPS */\n    , _hoisted_2)]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.inputTask = $event),\n    class: \"border border-gray-200\",\n    placeholder: \"create task\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.inputTask]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $setup.createTask()),\n    ref: \"createTaskBtnRef\",\n    class: \"border border-black bg-slate-200\"\n  }, \"Create Task\", 512\n  /* NEED_PATCH */\n  )])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;gCACIA,oBAEK,IAFL,EAEK,IAFL,EAAI,qBAAJ,EAEA;AAAA;AAFA;;;;EAeKC,KAAK,EAAC;;;6DAfXC,YAGAF,oBASK,IATL,EASK,IATL,EASK,oBARDG,oBAOKC,SAPL,EAOK,IAPL,EAOKC,YAPcC,YAOd,EAPMC,IAAa,IAAT;yBAAfJ,oBAOK,IAPL,EAOK;MAPsBK,GAAG,EAAED,IAO3B;MAPiCN,KAAK,EAAC;IAOvC,CAPL,GACID,oBAAyB,GAAzB,EAAyB,IAAzB,EAAyBS,iBAAnBF,IAAI,CAACG,OAAc,CAAzB,EAAkB;IAAA;IAAlB,GACAV,oBAEK,IAFL,EAEK,IAFL,EAEK,oBADDG,oBAA4EC,SAA5E,EAA4E,IAA5E,EAA4EC,YAAtDE,IAAI,CAACI,QAAiD,EAAjEC,OAAwB,IAAjB;2BAAlBT,oBAA4E,IAA5E,EAA4E;QAAtCK,GAAG,EAAEI;MAAiC,CAA5E,EAAkDH,iBAAIG,OAAO,CAACF,OAAZ,CAAlD,EAAqE;MAAA;MAArE;KAA4E,CAA5E;;IAAA,CACC,EAFL,mBAGAV,oBAAmG,OAAnG,EAAmG;MAA5Fa,IAAI,EAAC,MAAuF;iEAAvEP,sBAAYQ,OAA2D;MAAzDb,KAAK,EAAC,wBAAmD;MAA1Bc,WAAW,EAAC;IAAc,CAAnG;;IAAA,kBAA4BT,wBAC5BN,oBAAqH,QAArH,EAAqH;MAA5GgB,OAAK,YAAEV,kBAAWC,IAAI,CAACU,EAAhB,CAAqG;mBAAA;MAAhFC,GAAG,EAAC,cAA4E;MAA7DjB,KAAK,EAAC;IAAuD,CAArH,EAAiG,aAAjG,EAA4G;IAAA;IAA5G,EAA4GkB,UAA5G,EANJ;GAOK,CAPL;;EAAA,CAQC,EATL,GAYAnB,oBAGM,KAHN,cAGM,iBAFFA,oBAAgG,OAAhG,EAAgG;IAAzFa,IAAI,EAAC,MAAoF;+DAApEP,mBAASQ,OAA2D;IAAzDb,KAAK,EAAC,wBAAmD;IAA1Bc,WAAW,EAAC;EAAc,CAAhG;;EAAA,kBAA4BT,mBAE1B,EADFN,oBAAkH,QAAlH,EAAkH;IAAzGgB,OAAK,sCAAEV,mBAAF,CAAoG;IAApFY,GAAG,EAAC,kBAAgF;IAA7DjB,KAAK,EAAC;EAAuD,CAAlH,EAA8F,aAA9F,EAAyG;EAAA;EAAzG,CACE,CAHN","names":["_createElementVNode","class","_hoisted_1","_createElementBlock","_Fragment","_renderList","$setup","task","key","_toDisplayString","content","comments","comment","type","$event","placeholder","onClick","id","ref","_hoisted_2"],"sourceRoot":"","sources":["E:\\LapTrinh\\NestJS\\social-media-clone\\frontend\\src\\components\\DashBoard.vue"],"sourcesContent":["<template>\r\n    <h3>\r\n        this is dashboard\r\n    </h3>\r\n    <ul>\r\n        <li v-for=\"task in tasks\" :key=\"task\" class=\"border border-red-400 my-3\">\r\n            <p>{{ task.content }}</p>\r\n            <ul>\r\n                <li v-for=\"comment in task.comments\" :key=\"comment\">{{comment.content}}</li>\r\n            </ul>\r\n            <input type=\"text\" v-model=\"inputComment\" class=\"border border-gray-200\" placeholder=\"add comment\">\r\n            <button @click=\"addComment(task.id)\" ref=\"addCmtBtnRef\" class=\"border border-black bg-slate-200\">Add comment</button>\r\n        </li>\r\n    </ul>\r\n\r\n\r\n    <div class=\"\">\r\n        <input type=\"text\" v-model=\"inputTask\" class=\"border border-gray-200\" placeholder=\"create task\"> \r\n        <button @click=\"createTask()\" ref=\"createTaskBtnRef\" class=\"border border-black bg-slate-200\">Create Task</button>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref, onMounted  } from \"vue\";\r\nimport axios from \"axios\";\r\n\r\n// const state = reactive({todos: []});\r\nconst inputTask = ref('');\r\nconst inputComment = ref('');\r\n\r\nconst tasks = ref(null);\r\nconst comments = ref(null);\r\nconst createTaskBtnRef = ref(null);\r\nconst addCmtBtnRef = ref(null);\r\n\r\nconst createTask = async() => {\r\n\r\n    createTaskBtnRef.value.disabled = true;\r\n    createTaskBtnRef.value.innerText = 'Loading...'\r\n    const data = {content: inputTask.value};\r\n    console.log(data);\r\n    \r\n    const response = await axios\r\n    .post('http://localhost:3000/tasks', data, {\r\n        headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        },\r\n        withCredentials: true,\r\n    })\r\n    inputTask.value = '';\r\n    getTasks();\r\n    createTaskBtnRef.value.disabled = false;\r\n    createTaskBtnRef.value.innerText = 'Create Task';\r\n}\r\n\r\nconst addComment = async(taskId) => {\r\n    addCmtBtnRef.value.disabled = true;\r\n    addCmtBtnRef.value.innerText = 'Loading...'\r\n    const data = {content: inputComment.value};\r\n    console.log(data);\r\n    \r\n    const response = await axios\r\n    .post(`http://localhost:3000/tasks/${taskId}/comments`, data, {\r\n        headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        },\r\n        withCredentials: true,\r\n    })\r\n    inputComment.value = '';\r\n    addCmtBtnRef.value.disabled = false;\r\n    addCmtBtnRef.value.innerText = 'add comment';\r\n}\r\n\r\nconst getTasks = async() => {\r\n    const response = await axios.get('http://localhost:3000/tasks', {withCredentials: true});\r\n    tasks.value = response.data;\r\n}\r\n\r\nonMounted( async() => {\r\n    const response = await axios.get('http://localhost:3000/tasks', {withCredentials: true});\r\n    tasks.value = response.data;\r\n})\r\n\r\n</script>"]},"metadata":{},"sourceType":"module"}