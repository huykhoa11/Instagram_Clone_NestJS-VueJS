{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport axios from 'axios';\nimport { useRouter } from \"vue-router\";\nimport { useStore } from \"vuex\";\nexport default {\n  __name: 'SignUp',\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const store = useStore();\n    const username = ref('');\n    const password = ref('');\n    const confirmPassword = ref('');\n    const returnUser = ref('');\n    const router = useRouter();\n    const signUpRef = ref(null);\n\n    const validate = () => {\n      if (username.value !== '' || password.value !== '' || confirmPassword.value !== '') {\n        if (password.value === confirmPassword.value) {\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    };\n\n    const signUp = async () => {\n      if (validate() === false) {\n        console.error('Input value is something wrong hehehe');\n      } else {\n        const data = {\n          username: username.value,\n          password: password.value\n        };\n\n        try {\n          signUpRef.value.disabled = true;\n          signUpRef.value.classList.toggle('hover:bg-slate-200');\n          signUpRef.value.innerText = 'loading...';\n          const response = await axios.post('http://localhost:3000/auth/signup', data, {\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json;charset=UTF-8\"\n            },\n            withCredentials: true\n          });\n          returnUser.value = response.data;\n          console.log(returnUser.value);\n          router.push('/auth/signin');\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    };\n\n    const __returned__ = {\n      store,\n      username,\n      password,\n      confirmPassword,\n      returnUser,\n      router,\n      signUpRef,\n      validate,\n      signUp,\n      ref,\n      axios,\n      useRouter,\n      useStore\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":";AAuBA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,QAAwB,YAAxB;AACA,SAAQC,QAAR,QAAuB,MAAvB;;;;;;;;IAEA,MAAMC,KAAK,GAAGD,QAAQ,EAAtB;IAEA,MAAME,QAAQ,GAAGL,GAAG,CAAC,EAAD,CAApB;IACA,MAAMM,QAAQ,GAAGN,GAAG,CAAC,EAAD,CAApB;IACA,MAAMO,eAAe,GAAGP,GAAG,CAAC,EAAD,CAA3B;IACA,MAAMQ,UAAU,GAAGR,GAAG,CAAC,EAAD,CAAtB;IACA,MAAMS,MAAM,GAAGP,SAAS,EAAxB;IACA,MAAMQ,SAAS,GAAGV,GAAG,CAAC,IAAD,CAArB;;IAEA,MAAMW,QAAQ,GAAG,MAAM;MACrB,IAAGN,QAAQ,CAACO,KAAT,KAAmB,EAAnB,IAAyBN,QAAQ,CAACM,KAAT,KAAmB,EAA5C,IAAkDL,eAAe,CAACK,KAAhB,KAA0B,EAA/E,EAAmF;QACjF,IAAGN,QAAQ,CAACM,KAAT,KAAmBL,eAAe,CAACK,KAAtC,EAA6C;UAC3C,OAAO,IAAP;QACD,CAFD,MAEO;UACL,OAAO,KAAP;QACD;MACF,CAND,MAOK;QACH,OAAO,KAAP;MACD;IACF,CAXD;;IAaA,MAAMC,MAAM,GAAG,YAAY;MACzB,IAAGF,QAAQ,OAAO,KAAlB,EAAyB;QACvBG,OAAO,CAACC,KAAR,CAAc,uCAAd;MACD,CAFD,MAGK;QACH,MAAMC,IAAI,GAAG;UACXX,QAAQ,EAAEA,QAAQ,CAACO,KADR;UAEXN,QAAQ,EAAEA,QAAQ,CAACM;QAFR,CAAb;;QAIA,IAAI;UACFF,SAAS,CAACE,KAAV,CAAgBK,QAAhB,GAA2B,IAA3B;UACAP,SAAS,CAACE,KAAV,CAAgBM,SAAhB,CAA0BC,MAA1B,CAAiC,oBAAjC;UACAT,SAAS,CAACE,KAAV,CAAgBQ,SAAhB,GAA4B,YAA5B;UACA,MAAMC,QAAQ,GAAG,MAAMpB,KAAK,CAACqB,IAAN,CAAW,mCAAX,EAAgDN,IAAhD,EAAsD;YAC3EO,OAAO,EAAE;cACPC,MAAM,EAAE,kBADD;cAEP,gBAAgB;YAFT,CADkE;YAK3EC,eAAe,EAAE;UAL0D,CAAtD,CAAvB;UAOAjB,UAAU,CAACI,KAAX,GAAmBS,QAAQ,CAACL,IAA5B;UACAF,OAAO,CAACY,GAAR,CAAYlB,UAAU,CAACI,KAAvB;UACAH,MAAM,CAACkB,IAAP,CAAY,cAAZ;QACD,CAdD,CAcE,OAAOZ,KAAP,EAAc;UACdD,OAAO,CAACY,GAAR,CAAYX,KAAZ;QACD;MACF;IAGF,CA7BD","names":["ref","axios","useRouter","useStore","store","username","password","confirmPassword","returnUser","router","signUpRef","validate","value","signUp","console","error","data","disabled","classList","toggle","innerText","response","post","headers","Accept","withCredentials","log","push"],"sources":["E:/LapTrinh/NestJS/social-media-clone/frontend/src/components/auth/SignUp.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\" relative w-screen h-screen bg-gray-200 \">\r\n      <div class=\" absolute left-0 right-0 top-10 mx-auto w-1/3 h-[500px] rounded-sm border border-gray-100 bg-white p-10\">\r\n        <header class=\" w-full h-1/6 flex items-center pl-2 bg-pink-300 text-3xl mb-5\">Sign Up</header>\r\n        <label for=\"\" class=\" text-lg block\">Username</label>\r\n        <input type=\"text\" class=\"border border-gray-200 h-10 w-full pl-2\" v-model=\"username\"><br><br>\r\n        <label for=\"\" class=\" text-lg block\">Password</label>\r\n        <input type=\"password\" class=\"border border-gray-200 h-10 w-full pl-2\" v-model=\"password\"><br>\r\n        <label for=\"\" class=\" text-lg block\">Confirm Password</label>\r\n        <input type=\"password\" class=\"border border-gray-200 h-10 w-full pl-2\" v-model=\"confirmPassword\"><br>\r\n        <button @click=\"signUp()\" class=\" mt-7 py-1 px-3 bg-black rounded-md \r\n                                    text-xl text-white hover:text-zinc-600 hover:bg-slate-200\" ref=\"signUpRef\">User register</button>\r\n\r\n      </div>\r\n    </div>\r\n    <p>{{ returnUser }}</p>\r\n\r\n  </section>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport axios from 'axios';\r\nimport {useRouter} from \"vue-router\"\r\nimport {useStore} from \"vuex\"\r\n\r\nconst store = useStore();\r\n\r\nconst username = ref('');\r\nconst password = ref('');\r\nconst confirmPassword = ref('');\r\nconst returnUser = ref('');\r\nconst router = useRouter();\r\nconst signUpRef = ref(null);\r\n\r\nconst validate = () => {\r\n  if(username.value !== '' || password.value !== '' || confirmPassword.value !== '') {\r\n    if(password.value === confirmPassword.value) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  else {\r\n    return false;\r\n  }\r\n}\r\n\r\nconst signUp = async () => {\r\n  if(validate() === false) {\r\n    console.error('Input value is something wrong hehehe');\r\n  }\r\n  else {\r\n    const data = {\r\n      username: username.value,\r\n      password: password.value,\r\n    };\r\n    try {\r\n      signUpRef.value.disabled = true;\r\n      signUpRef.value.classList.toggle('hover:bg-slate-200');\r\n      signUpRef.value.innerText = 'loading...';\r\n      const response = await axios.post('http://localhost:3000/auth/signup', data, {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        },\r\n        withCredentials: true,\r\n      });\r\n      returnUser.value = response.data;\r\n      console.log(returnUser.value);\r\n      router.push('/auth/signin')\r\n    } catch (error) {\r\n      console.log(error);\r\n    } \r\n  }\r\n\r\n\r\n};\r\n\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module"}