{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\";\nimport _imports_0 from './../assets/instagram.png';\nconst _hoisted_1 = {\n  class: \"\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"fixed z-[100] w-full drop-shadow-md h-12 bg-white font-semibold flex justify-around items-center\"\n};\nconst _hoisted_3 = {\n  class: \"flex space-x-3\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\",\n  class: \"w-8 h-8\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"text-pink-300\"\n};\nconst _hoisted_6 = {\n  class: \"\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  class: \"fixed z-[100] w-full drop-shadow-md h-12 bg-white font-semibold flex justify-between items-center\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-pink-500\"\n}, \"Let sign in ^^\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  class: \"\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [$setup.currentUser ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: \"/homepage\",\n    class: \"text-pink-300 hover:text-white\"\n  }, {\n    default: _withCtx(() => [_hoisted_4]),\n    _: 1\n    /* STABLE */\n\n  }), _createElementVNode(\"p\", _hoisted_5, \"Hello \" + _toDisplayString($setup.currentUser.username), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n    id: \"signOutBtn\",\n    onClick: _cache[0] || (_cache[0] = $event => $setup.signOut()),\n    class: \"text-pink-300 hover:text-gray-50 hover:bg-pink-300 cursor-pointer\"\n  }, \"Sign Out\")])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_router_link, {\n    to: \"/auth/signup\",\n    class: \"text-pink-500 hover:text-white\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Sign Up\")]),\n    _: 1\n    /* STABLE */\n\n  }), _createVNode(_component_router_link, {\n    to: \"/auth/signin\",\n    class: \"text-pink-500 hover:text-white\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Sign In\")]),\n    _: 1\n    /* STABLE */\n\n  })])]))]);\n}","map":{"version":3,"mappings":";OAKiBA,gBAA+B;;EAJvCC,KAAK,EAAC;;;;EACeA,KAAK,EAAC;;;EACvBA,KAAK,EAAC;;;gCAEPC,oBAA6D,KAA7D,EAA6D;EAAxDC,GAA+B,EAA/BH,UAAwD;EAAxBI,GAAG,EAAC,EAAoB;EAAjBH,KAAK,EAAC;AAAW,CAA7D;;AAAA;;;EAECA,KAAK,EAAC;;;EAENA,KAAK,EAAC;;;;EAMDA,KAAK,EAAC;;;gCAChBC,oBAEM,KAFN,EAEM;EAFDD,KAAK,EAAC;AAEL,CAFN,EAAa,cACXC,oBAA4C,GAA5C,EAA4C;EAAzCD,KAAK,EAAC;AAAmC,CAA5C,EAA0B,gBAA1B,CADW,CAAb;;AAAA;;;EAGKA,KAAK,EAAC;;;;;uBAlBfI,oBAyBM,KAzBN,cAyBM,CAxBOC,oCAAXD,oBAWM,KAXN,cAWM,CAVJH,oBAKM,KALN,cAKM,CAJJK,aAEcC,sBAFd,EAEc;IAFDC,EAAE,EAAC,WAEF;IAFcR,KAAK,EAAC;EAEpB,CAFd;sBACE,MAA6D,CAA7DS,UAA6D;;;;GAD/D,CAII,EADJR,oBAA8D,GAA9D,cAA0B,WAAMS,iBAAGL,mBAAYM,QAAf,CAAhC,EAAuD;EAAA;EAAvD,CACI,CALN,CAUI,EAJJV,oBAEM,KAFN,cAEM,CADJA,oBAAuI,QAAvI,EAAuI;IAA/HW,EAAE,EAAC,YAA4H;IAA9GC,OAAK,sCAAER,gBAAF,CAAyG;IAA5FL,KAAK,EAAC;EAAsF,CAAvI,EAAsH,UAAtH,CACI,CAFN,CAII,CAXN,oBAaAI,oBAQM,KARN,cAQM,CAPJU,UAOI,EAJJb,oBAGM,KAHN,cAGM,CAFJK,aAA4FC,sBAA5F,EAA4F;IAA/EC,EAAE,EAAC,cAA4E;IAA7DR,KAAK,EAAC;EAAuD,CAA5F;sBAAuE,MAAO,kBAAP,UAAO;;;;GAA9E,CAEI,EADJM,aAA4FC,sBAA5F,EAA4F;IAA/EC,EAAE,EAAC,cAA4E;IAA7DR,KAAK,EAAC;EAAuD,CAA5F;sBAAuE,MAAO,kBAAP,UAAO;;;;GAA9E,CACI,CAHN,CAII,CARN,EAWI,CAzBN","names":["_imports_0","class","_createElementVNode","src","alt","_createElementBlock","$setup","_createVNode","_component_router_link","to","_hoisted_4","_toDisplayString","username","id","onClick","_hoisted_8"],"sourceRoot":"","sources":["E:\\LapTrinh\\NestJS\\social-media-clone\\frontend\\src\\components\\NavBar.vue"],"sourcesContent":["<template>\r\n    <nav class=\"\">\r\n      <div v-if=\"currentUser\" class=\" fixed z-[100] w-full drop-shadow-md h-12 bg-white font-semibold flex justify-around items-center\">\r\n        <div class=\"flex space-x-3\">\r\n          <router-link to=\"/homepage\" class=\" text-pink-300 hover:text-white\">\r\n            <img src=\"./../assets/instagram.png\" alt=\"\" class=\" w-8 h-8\">\r\n          </router-link>\r\n          <p class=\" text-pink-300\">Hello {{ currentUser.username }}</p>\r\n        </div>\r\n        <div class=\"\">\r\n          <button id=\"signOutBtn\" @click=\"signOut()\" class=\" text-pink-300 hover:text-gray-50 hover:bg-pink-300 cursor-pointer\">Sign Out</button>\r\n        </div>\r\n        \r\n      </div>\r\n\r\n      <div v-else class=\" fixed z-[100] w-full drop-shadow-md h-12 bg-white font-semibold flex  justify-between items-center\">\r\n        <div class=\"\">\r\n          <p class=\" text-pink-500\">Let sign in ^^</p>\r\n        </div>\r\n        <div class=\"\">\r\n          <router-link to=\"/auth/signup\" class=\" text-pink-500 hover:text-white\">Sign Up</router-link>\r\n          <router-link to=\"/auth/signin\" class=\" text-pink-500 hover:text-white\">Sign In</router-link>\r\n        </div>\r\n      </div>\r\n\r\n        \r\n    </nav>\r\n    \r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from \"vue-router\"\r\nimport { computed, onMounted, ref } from 'vue';\r\nimport axios from 'axios';\r\n\r\nconst router = useRouter();\r\nconst store = useStore();\r\n\r\nconst username = ref(null);\r\nconst currentUser = ref(null);\r\n\r\n\r\nconst signOut = async () => {\r\n  const signOutBtnElement = document.getElementById('signOutBtn');\r\n  signOutBtnElement.disabled = true;\r\n  signOutBtnElement.className = 'text-pink-500';\r\n  signOutBtnElement.innerText =  'Signing out...'\r\n  await axios.delete('http://localhost:3000/auth/signout', {withCredentials: true});\r\n  localStorage.removeItem('username');\r\n  // router.push('/auth/signin')\r\n  username.value = '';\r\n  window.location.replace(\"http://localhost:8080/auth/signin\");\r\n\r\n}\r\n\r\nonMounted( async () => {\r\n  try {\r\n    const response = await axios.get('http://localhost:3000/users/currentuser', {withCredentials: true});\r\n    currentUser.value = response.data;\r\n    username.value = localStorage.getItem('username');\r\n    console.log(username.value);\r\n  } catch (error) {\r\n    if(localStorage.getItem('username')) {\r\n      localStorage.removeItem('username');\r\n    }\r\n  }\r\n\r\n  \r\n})\r\n\r\n\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module"}