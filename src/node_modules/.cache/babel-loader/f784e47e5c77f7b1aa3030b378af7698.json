{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport axios from 'axios';\nimport { useRouter } from \"vue-router\";\nimport { useStore } from \"vuex\";\nexport default {\n  __name: 'SignUp',\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const store = useStore();\n    const username = ref('');\n    const password = ref('');\n    const returnValue = ref('');\n    const isAuthenticated = ref(false);\n    const router = useRouter();\n    const signUpRef = ref(null); // const signUp = async () => {\n    //   const data = {\n    //     username: username,\n    //     password: password,\n    //   };\n    //   axios\n    //   .post('http://localhost:3000/auth/signup', data, {\n    //     headers: {\n    //       Accept: \"application/json\",\n    //       \"Content-Type\": \"application/json;charset=UTF-8\",\n    //     },\n    //     withCredentials: true,\n    //   })\n    //   .then(({data}) => {\n    //     returnValue.value = data;\n    //     console.log(data);\n    //   });\n    // };\n\n    console.log(signInRef);\n\n    const signUp = async () => {\n      const data = {\n        username: username.value,\n        password: password.value\n      };\n\n      try {\n        signUpRef.value.disabled = true;\n        signUpRef.value.classList.toggle('hover:bg-slate-200');\n        signUpRef.value.innerText = 'loading...';\n        const response = await axios.post('http://localhost:3000/auth/signup', data, {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json;charset=UTF-8\"\n          },\n          withCredentials: true\n        });\n        returnValue.value = response.data;\n        isAuthenticated.value = true;\n        router.push('/auth/signin');\n        console.log(returnValue.value);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    const __returned__ = {\n      store,\n      username,\n      password,\n      returnValue,\n      isAuthenticated,\n      router,\n      signUpRef,\n      signUp,\n      ref,\n      axios,\n      useRouter,\n      useStore\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":";AAoBA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,QAAwB,YAAxB;AACA,SAAQC,QAAR,QAAuB,MAAvB;;;;;;;;IAEA,MAAMC,KAAK,GAAGD,QAAQ,EAAtB;IAEA,MAAME,QAAQ,GAAGL,GAAG,CAAC,EAAD,CAApB;IACA,MAAMM,QAAQ,GAAGN,GAAG,CAAC,EAAD,CAApB;IACA,MAAMO,WAAW,GAAGP,GAAG,CAAC,EAAD,CAAvB;IACA,MAAMQ,eAAe,GAAGR,GAAG,CAAC,KAAD,CAA3B;IACA,MAAMS,MAAM,GAAGP,SAAS,EAAxB;IACA,MAAMQ,SAAS,GAAGV,GAAG,CAAC,IAAD,CAArB,EAEA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEAW,OAAO,CAACC,GAAR,CAAYC,SAAZ;;IAEA,MAAMC,MAAM,GAAG,YAAY;MACzB,MAAMC,IAAI,GAAG;QACXV,QAAQ,EAAEA,QAAQ,CAACW,KADR;QAEXV,QAAQ,EAAEA,QAAQ,CAACU;MAFR,CAAb;;MAKA,IAAI;QACFN,SAAS,CAACM,KAAV,CAAgBC,QAAhB,GAA2B,IAA3B;QACAP,SAAS,CAACM,KAAV,CAAgBE,SAAhB,CAA0BC,MAA1B,CAAiC,oBAAjC;QACAT,SAAS,CAACM,KAAV,CAAgBI,SAAhB,GAA4B,YAA5B;QACA,MAAMC,QAAQ,GAAG,MAAMpB,KAAK,CAACqB,IAAN,CAAW,mCAAX,EAAgDP,IAAhD,EAAsD;UAC3EQ,OAAO,EAAE;YACPC,MAAM,EAAE,kBADD;YAEP,gBAAgB;UAFT,CADkE;UAK3EC,eAAe,EAAE;QAL0D,CAAtD,CAAvB;QAOAlB,WAAW,CAACS,KAAZ,GAAoBK,QAAQ,CAACN,IAA7B;QACAP,eAAe,CAACQ,KAAhB,GAAwB,IAAxB;QACAP,MAAM,CAACiB,IAAP,CAAY,cAAZ;QACAf,OAAO,CAACC,GAAR,CAAYL,WAAW,CAACS,KAAxB;MACD,CAfD,CAeE,OAAOW,KAAP,EAAc;QACdhB,OAAO,CAACC,GAAR,CAAYe,KAAZ;MACD;IACF,CAxBD","names":["ref","axios","useRouter","useStore","store","username","password","returnValue","isAuthenticated","router","signUpRef","console","log","signInRef","signUp","data","value","disabled","classList","toggle","innerText","response","post","headers","Accept","withCredentials","push","error"],"sources":["E:/LapTrinh/NestJS/social-media-clone/frontend/src/components/auth/SignUp.vue"],"sourcesContent":["<template>\r\n  <section class=\"relative\">\r\n    <div class=\"absolute mx-auto\">\r\n      <div class=\" w-1/3 h-96 border border-stone-700\">\r\n        <header class=\" w-full h-1/6 bg-sky-200 text-3xl mb-5\">Sign Up</header>\r\n        <label for=\"\">Username</label>\r\n        <input type=\"text\" class=\"border border-black\" v-model=\"username\"><br><br>\r\n        <label for=\"\">Password</label>\r\n        <input type=\"password\" class=\"border border-black\" v-model=\"password\"><br>\r\n        <button @click=\"signUp()\" ref=\"signUpRef\" class=\"border border-black bg-slate-300 hover:bg-slate-200\">Sign Up</button>\r\n      </div>\r\n    </div>\r\n\r\n    <p>{{ returnValue }}</p>\r\n\r\n  </section>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport axios from 'axios';\r\nimport {useRouter} from \"vue-router\"\r\nimport {useStore} from \"vuex\"\r\n\r\nconst store = useStore();\r\n\r\nconst username = ref('');\r\nconst password = ref('');\r\nconst returnValue = ref('');\r\nconst isAuthenticated = ref(false);\r\nconst router = useRouter();\r\nconst signUpRef = ref(null);\r\n\r\n// const signUp = async () => {\r\n//   const data = {\r\n//     username: username,\r\n//     password: password,\r\n//   };\r\n\r\n//   axios\r\n//   .post('http://localhost:3000/auth/signup', data, {\r\n//     headers: {\r\n//       Accept: \"application/json\",\r\n//       \"Content-Type\": \"application/json;charset=UTF-8\",\r\n//     },\r\n//     withCredentials: true,\r\n//   })\r\n//   .then(({data}) => {\r\n//     returnValue.value = data;\r\n//     console.log(data);\r\n//   });\r\n// };\r\n\r\nconsole.log(signInRef);\r\n\r\nconst signUp = async () => {\r\n  const data = {\r\n    username: username.value,\r\n    password: password.value,\r\n  };\r\n\r\n  try {\r\n    signUpRef.value.disabled = true;\r\n    signUpRef.value.classList.toggle('hover:bg-slate-200');\r\n    signUpRef.value.innerText = 'loading...';\r\n    const response = await axios.post('http://localhost:3000/auth/signup', data, {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n      },\r\n      withCredentials: true,\r\n    });\r\n    returnValue.value = response.data;\r\n    isAuthenticated.value = true;\r\n    router.push('/auth/signin')\r\n    console.log(returnValue.value);\r\n  } catch (error) {\r\n    console.log(error);\r\n  } \r\n};\r\n\r\n</script>\r\n\r\n"]},"metadata":{},"sourceType":"module"}