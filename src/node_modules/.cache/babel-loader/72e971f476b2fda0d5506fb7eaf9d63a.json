{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { Observable } from '../Observable';\nimport { innerFrom } from './innerFrom';\nimport { argsOrArgArray } from '../util/argsOrArgArray';\nimport { createOperatorSubscriber } from '../operators/OperatorSubscriber';\nexport function race() {\n  var sources = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    sources[_i] = arguments[_i];\n  }\n\n  sources = argsOrArgArray(sources);\n  return sources.length === 1 ? innerFrom(sources[0]) : new Observable(raceInit(sources));\n}\nexport function raceInit(sources) {\n  return function (subscriber) {\n    var subscriptions = [];\n\n    var _loop_1 = function (i) {\n      subscriptions.push(innerFrom(sources[i]).subscribe(createOperatorSubscriber(subscriber, function (value) {\n        if (subscriptions) {\n          for (var s = 0; s < subscriptions.length; s++) {\n            s !== i && subscriptions[s].unsubscribe();\n          }\n\n          subscriptions = null;\n        }\n\n        subscriber.next(value);\n      })));\n    };\n\n    for (var i = 0; subscriptions && !subscriber.closed && i < sources.length; i++) {\n      _loop_1(i);\n    }\n  };\n}","map":{"version":3,"mappings":";AAAA,SAASA,UAAT,QAA2B,eAA3B;AACA,SAASC,SAAT,QAA0B,aAA1B;AAGA,SAASC,cAAT,QAA+B,wBAA/B;AACA,SAASC,wBAAT,QAAyC,iCAAzC;AA6CA,OAAM,SAAUC,IAAV,GAAc;EAAI;;OAAA,yCAAyD;IAAzDC;;;EACtBA,OAAO,GAAGH,cAAc,CAACG,OAAD,CAAxB;EAEA,OAAOA,OAAO,CAACC,MAAR,KAAmB,CAAnB,GAAuBL,SAAS,CAACI,OAAO,CAAC,CAAD,CAAR,CAAhC,GAAqE,IAAIL,UAAJ,CAAkBO,QAAQ,CAACF,OAAD,CAA1B,CAA5E;AACD;AAOD,OAAM,SAAUE,QAAV,CAAsBF,OAAtB,EAAmD;EACvD,OAAO,UAACG,UAAD,EAA0B;IAC/B,IAAIC,aAAa,GAAmB,EAApC;;4BAMSC,GAAC;MACRD,aAAa,CAACE,IAAd,CACEV,SAAS,CAACI,OAAO,CAACK,CAAD,CAAR,CAAT,CAA4CE,SAA5C,CACET,wBAAwB,CAACK,UAAD,EAAa,UAACK,KAAD,EAAM;QACzC,IAAIJ,aAAJ,EAAmB;UAGjB,KAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,aAAa,CAACH,MAAlC,EAA0CQ,CAAC,EAA3C,EAA+C;YAC7CA,CAAC,KAAKJ,CAAN,IAAWD,aAAa,CAACK,CAAD,CAAb,CAAiBC,WAAjB,EAAX;UACD;;UACDN,aAAa,GAAG,IAAhB;QACD;;QACDD,UAAU,CAACQ,IAAX,CAAgBH,KAAhB;MACD,CAVuB,CAD1B,CADF;;;IADF,KAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBD,aAAa,IAAI,CAACD,UAAU,CAACS,MAA7B,IAAuCP,CAAC,GAAGL,OAAO,CAACC,MAAnE,EAA2EI,CAAC,EAA5E,EAA8E;cAArEA;IAgBR;EACF,CAxBD;AAyBD","names":["Observable","innerFrom","argsOrArgArray","createOperatorSubscriber","race","sources","length","raceInit","subscriber","subscriptions","i","push","subscribe","value","s","unsubscribe","next","closed"],"sourceRoot":"","sources":["../../../../src/internal/observable/race.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}