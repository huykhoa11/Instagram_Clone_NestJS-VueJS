{"ast":null,"code":"import { concat } from '../observable/concat';\nimport { take } from './take';\nimport { ignoreElements } from './ignoreElements';\nimport { mapTo } from './mapTo';\nimport { mergeMap } from './mergeMap';\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n  if (subscriptionDelay) {\n    return function (source) {\n      return concat(subscriptionDelay.pipe(take(1), ignoreElements()), source.pipe(delayWhen(delayDurationSelector)));\n    };\n  }\n\n  return mergeMap(function (value, index) {\n    return delayDurationSelector(value, index).pipe(take(1), mapTo(value));\n  });\n}","map":{"version":3,"mappings":"AAEA,SAASA,MAAT,QAAuB,sBAAvB;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,KAAT,QAAsB,SAAtB;AACA,SAASC,QAAT,QAAyB,YAAzB;AAkFA,OAAM,SAAUC,SAAV,CACJC,qBADI,EAEJC,iBAFI,EAE+B;EAEnC,IAAIA,iBAAJ,EAAuB;IAErB,OAAO,UAACC,MAAD,EAAsB;MAC3B,aAAM,CAACD,iBAAiB,CAACE,IAAlB,CAAuBR,IAAI,CAAC,CAAD,CAA3B,EAAgCC,cAAc,EAA9C,CAAD,EAAoDM,MAAM,CAACC,IAAP,CAAYJ,SAAS,CAACC,qBAAD,CAArB,CAApD,CAAN;IAAwG,CAD1G;EAED;;EAED,OAAOF,QAAQ,CAAC,UAACM,KAAD,EAAQC,KAAR,EAAa;IAAK,4BAAqB,CAACD,KAAD,EAAQC,KAAR,CAArB,CAAoCF,IAApC,CAAyCR,IAAI,CAAC,CAAD,CAA7C,EAAkDE,KAAK,CAACO,KAAD,CAAvD;EAA+D,CAAlF,CAAf;AACD","names":["concat","take","ignoreElements","mapTo","mergeMap","delayWhen","delayDurationSelector","subscriptionDelay","source","pipe","value","index"],"sourceRoot":"","sources":["../../../../src/internal/operators/delayWhen.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}